(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{105:function(e,t,a){},181:function(e,t,a){},182:function(e,t,a){},183:function(e,t,a){},217:function(e,t,a){e.exports=a.p+"static/media/logo.e5eeb453.png"},218:function(e,t,a){e.exports=a.p+"static/media/homeImage14.fe990491.jpeg"},222:function(e,t,a){e.exports=a.p+"static/media/homeImage.3ededb3f.jpg"},224:function(e,t,a){e.exports=a.p+"static/media/homeImage14.fe990491.jpeg"},228:function(e,t,a){e.exports=a(474)},233:function(e,t,a){},252:function(e,t,a){},329:function(e,t,a){},332:function(e,t,a){},333:function(e,t,a){},335:function(e,t,a){},474:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(22),s=a.n(l),o=(a(233),a(8)),c=a(12),i=a(11),m=a(9),d=a(10),u=a(499),h=a(498),p=a(3),g=a(502),v=a(18),E=a(475),f=a(501),y=a(476),b=a(477),w=a(478),_=a(479),k=a(480),N=a(481),S=a(482),O=a(483),x=a(500),P=a(484),C=a(485),j=a(486),D=a(14),I=a.n(D),R=function(e){return I.a.post("/api/UserProfileChangePass",{oldpass:e.oldpass,newpass:e.newpass}).then(function(e){return e.status,e.status}).catch(function(e){return e.response.status})},T=function(e){return I.a.post("/api/changeName",{name:e.name}).then(function(e){return e.status,e.status}).catch(function(e){return e.response.status})},q=function(e){return I.a.post("/api/register",{firstname:e.firstname,lastname:e.lastname,email:e.email,password:e.password}).then(function(e){return 200===e.status&&localStorage.setItem("accesstoken",e.data),e.status}).catch(function(e){return e.response.status})},Y=function(e){return I.a.post("/api/login",{email:e.email,password:e.password}).then(function(e){return"S"===e.data&&localStorage.setItem("accesstoken",e.data),e.data}).catch(function(e){})},F=(a(252),function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).register=function(t){if(t.preventDefault(),e.validate()){var a={firstname:e.state.fields.firstname,lastname:e.state.fields.lastname,email:e.state.fields.email,password:e.state.fields.password};q(a).then(function(t){200===t?e.setState({email_duplicate_error:!1},function(){return e.pushtoCurrentURL()}):400===t&&e.setState({email_duplicate_error:!0},function(){return e.pushtoCurrentURL()})})}},e.state={modal:!1,fields:{firstname:"",lastname:"",email:"",password:"",repassword:""},errors:{},password_error:[],email_duplicate_error:!1,passwordCheck:[{req:"\u2265 8 characters",valid:!1},{req:"At least 1 uppercase letter",valid:!1},{req:"At least 1 lowercase letter",valid:!1},{req:"At least 1 special character !@#$%^&*",valid:!1}]},e.toggle=e.toggle.bind(Object(p.a)(Object(p.a)(e))),e.updateFields=e.updateFields.bind(Object(p.a)(Object(p.a)(e))),e.register=e.register.bind(Object(p.a)(Object(p.a)(e))),e.passwordChecker=e.passwordChecker.bind(Object(p.a)(Object(p.a)(e))),e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"updateFields",value:function(e){var t=this.state.fields;t[e.target.name]=e.target.value,this.setState({fields:t}),this.passwordChecker()}},{key:"passwordChecker",value:function(){var e=this.state.fields.password,t=this.state.passwordCheck;t[0].valid=e.length>=8,/(?=.*[A-Z])/.test(e)?t[1].valid=!0:t[1].valid=!1,/(?=.*[a-z])/.test(e)?t[2].valid=!0:t[2].valid=!1,/(?=.*[!@#$%^&*])/.test(e)?t[3].valid=!0:t[3].valid=!1,this.setState({passwordCheck:t})}},{key:"toggle",value:function(){this.setState(Object(v.a)({},this.state,{modal:!this.state.modal}))}},{key:"pushtoCurrentURL",value:function(){var e=this.props.location.pathname+this.props.location.search;this.props.history.push(e)}},{key:"validate",value:function(){var e=this.state.fields,t={},a=!0;(""===e.firstname&&(a=!1,t.firstname="*Please enter first name"),""!==e.firstname&&(e.firstname.match(/^[a-z A-Z]*$/)||(a=!1,t.firstname="*Please enter English characters only.")),""===e.lastname&&(a=!1,t.lastname="*Please enter last name"),""!==e.lastname&&(e.lastname.match(/^[a-zA-Z]*$/)||(a=!1,t.lastname="*Please enter English characters only.")),""===e.email&&(a=!1,t.email="*Please enter email"),""!==e.email)&&(new RegExp(/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i).test(e.email)||(a=!1,t.email="*Please enter a valid email"));(""===e.password&&(a=!1,t.password="*Please enter a password"),""!==e.password)&&(new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&*]).{8,}$").test(e.password)?(""===e.repassword&&(a=!1,t.repassword="*Please re-enter password"),""!==e.repassword&&(e.repassword.match(e.password)||(a=!1,t.repassword="*Passwords must match"))):(a=!1,t.password="*This password does not meet the requirements"));return this.setState({errors:t,password_error:[]}),a}},{key:"render",value:function(){var e=r.a.createElement("div",{className:"text-warning"},this.state.password_error.map(function(e){return r.a.createElement("div",null,e)})),t=r.a.createElement("div",{className:"text-warning"}),a=r.a.createElement("div",{className:"text-warning"},"This email is already registered"),n=this.state.passwordCheck.map(function(e){return r.a.createElement("div",{key:e.req,className:e.valid?"valid-req":"invalid-req"},e.req)});return r.a.createElement("div",null,r.a.createElement(E.a,{className:"/"===this.props.location.pathname||"/Confirmation"===this.props.location.pathname||"/recoverage"===this.props.location.pathname||"/Accesscode"===this.props.location.pathname?"navbar-register-button":"navbar-register-button-black",color:"primary-outline",onClick:this.toggle},"Register"),r.a.createElement(f.a,{isOpen:this.state.modal,toggle:this.toggle},r.a.createElement(y.a,{toggle:this.toggle},"Registration"),r.a.createElement(b.a,null,r.a.createElement(w.a,{onSubmit:this.register},r.a.createElement(_.a,{form:!0},r.a.createElement(k.a,{md:6},r.a.createElement(N.a,null,r.a.createElement(S.a,null,"First Name"),r.a.createElement(O.a,{type:"text",name:"firstname",value:this.state.fields.firstname,onChange:this.updateFields,placeholder:"Albert",required:!0}),r.a.createElement("div",{className:"text-warning"},this.state.errors.firstname))),r.a.createElement(k.a,{md:6},r.a.createElement(N.a,null,r.a.createElement(S.a,null,"Last Name"),r.a.createElement(O.a,{type:"text",name:"lastname",value:this.state.fields.lastname,onChange:this.updateFields,placeholder:"Einstein",required:!0}),r.a.createElement("div",{className:"text-warning"},this.state.errors.lastname)))),r.a.createElement(N.a,null,r.a.createElement(S.a,null,"Email"),r.a.createElement(O.a,{type:"email",name:"email",value:this.state.fields.email,onChange:this.updateFields,placeholder:"guest@spartanhotel.com",required:!0}),r.a.createElement("div",{className:"text-warning"},this.state.errors.email),this.state.email_duplicate_error?a:t),r.a.createElement(N.a,null,r.a.createElement(S.a,null,"Password"),r.a.createElement(O.a,{id:"PopoverFocus",type:"password",name:"password",value:this.state.fields.password,onChange:this.updateFields,placeholder:"********",pattern:"^(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&*]).{8,}$",required:!0}),r.a.createElement("div",{className:"text-warning"},this.state.errors.password),this.state.password_error?e:t,r.a.createElement(x.a,{trigger:"focus",placement:"right",target:"PopoverFocus"},r.a.createElement(P.a,null,"Password Requirements"),r.a.createElement(C.a,null,n))),r.a.createElement(N.a,null,r.a.createElement(S.a,null,"Re-enter Password"),r.a.createElement(O.a,{type:"password",name:"repassword",value:this.state.fields.repassword,onChange:this.updateFields,placeholder:"********",required:!0}),r.a.createElement("div",{className:"text-warning"},this.state.errors.repassword)))),r.a.createElement(j.a,null,r.a.createElement(E.a,{color:"primary",onClick:this.register},"Register"),r.a.createElement(E.a,{color:"secondary",onClick:this.toggle},"Close"))))}}]),t}(r.a.Component)),M=Object(g.a)(F),A=a(217),B=a.n(A),L=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).login=function(t){if(t.preventDefault(),e.validate()){var a={email:e.state.loginfields.email,password:e.state.loginfields.password};Y(a).then(function(t){var a="",n={password:""};"S"===t?(n.email="",a="","/recoverage"!==window.location.pathname&&"/Accesscode"!==window.location.pathname||e.props.history.push("/")):(a="*Please enter valid credentials (email or password) or reset password",e.setState({loginerror:a}),n.email=e.state.loginfields.email),e.setState({loginfields:n,loginerror:a},function(){return e.pushtoCurrentURL()})})}},e.state={loginfields:{email:"",password:""},emailerror:"",loginerror:""},e.updateFields=e.updateFields.bind(Object(p.a)(Object(p.a)(e))),e.login=e.login.bind(Object(p.a)(Object(p.a)(e))),e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"updateFields",value:function(e){var t=this.state.loginfields;t[e.target.name]=e.target.value,this.setState({loginfields:t})}},{key:"pushtoCurrentURL",value:function(){var e=this.props.location.pathname+this.props.location.search;this.props.history.push(e)}},{key:"Home",value:function(e){e.preventDefault(),this.props.history.push("/")}},{key:"Logout",value:function(e){I.a.get("/api/logout").then(function(e){}),e.preventDefault(),localStorage.removeItem("accesstoken"),"/UserProfile"===window.location.pathname||"/Reservations"===window.location.pathname?this.props.history.push("/"):this.pushtoCurrentURL()}},{key:"ResetPassword",value:function(e){e.preventDefault(),this.props.history.push("/recoverage")}},{key:"UserProfile",value:function(e){e.preventDefault(),this.props.history.push("/UserProfile")}},{key:"Reservations",value:function(e){e.preventDefault(),this.props.history.push("/Reservations")}},{key:"validate",value:function(){var e=this.state.loginfields.email,t="",a=!0;""!==e&&(new RegExp(/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i).test(e)||(a=!1,t="*Please enter valid email."));return this.setState({emailerror:t}),a}},{key:"render",value:function(){var e,t=r.a.createElement("div",null),a=r.a.createElement("div",{className:"col-auto",onClick:this.UserProfile.bind(this)},"My Profile"),n=r.a.createElement("div",{className:"col-auto",onClick:this.Reservations.bind(this)},"My Reservations"),l=r.a.createElement("div",{className:"col-auto",onClick:this.ResetPassword.bind(this)},"Reset Password"),s=r.a.createElement("div",null,r.a.createElement(w.a,{className:"form-inline my-2 my-lg-0",onSubmit:this.login},r.a.createElement("div",{className:"col-auto pl-0"},r.a.createElement("div",{className:"input-group"},r.a.createElement("div",{className:"form-inline my-2 my-lg-0"},r.a.createElement("div",{className:"text-warning"},this.state.loginerror)),r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("div",{className:"email-icon input-group-text"},r.a.createElement("i",{className:"far fa-user"}))),r.a.createElement(N.a,null,r.a.createElement(O.a,{type:"text",name:"email",value:this.state.loginfields.email,onChange:this.updateFields,placeholder:"Email"})))),r.a.createElement("div",{className:"col-auto pl-0"},r.a.createElement("div",{className:"input-group"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("div",{className:"password-icon input-group-text"},r.a.createElement("i",{className:"fa fa-lock"}))),r.a.createElement(N.a,null,r.a.createElement(O.a,{type:"password",name:"password",value:this.state.loginfields.password,onChange:this.updateFields,placeholder:"********"})))),r.a.createElement("div",{className:"col-auto pl-0 pr-0"},r.a.createElement("button",{className:"btn btn-primary my-2 my-sm-0",type:"submit",disabled:!this.state.loginfields.email||!this.state.loginfields.password},"Login"))),r.a.createElement("div",{className:"form-inline my-2 my-lg-0"},r.a.createElement("div",{className:"text-warning"},this.state.emailerror))),o=r.a.createElement("div",null,r.a.createElement("form",{className:"form-inline my-2 my-lg-0"},r.a.createElement("div",{className:"col-auto pl-0 pr-0"},r.a.createElement("button",{className:"btn btn-primary my-2 my-sm-0",onClick:this.Logout.bind(this),type:"submit"},"LOGOUT"))));return r.a.createElement("nav",{className:(e=this.props.location.pathname,"/HotelSearch"===e?"sticky-top navbar navbar-pages fixed-top":"/RoomPage"===e||"/ModifyRoomPage"===e||"/Checkout"===e?"sticky-top navbar navbar-page-room fixed-top":"sticky-top navbar navbar-home fixed-top")},r.a.createElement("div",{className:"navbar-left form-inline my-2 my-lg-0"},r.a.createElement("div",{className:"col-auto pl-0 custom-row",onClick:this.Home.bind(this)},r.a.createElement("img",{className:"imageLogo",src:B.a}),r.a.createElement("div",null,"SPARTAN HOTELS")),localStorage.accesstoken?t:r.a.createElement("div",{className:""},"|"),localStorage.accesstoken?t:r.a.createElement(M,null)),r.a.createElement("div",{className:"navbar-right form-inline my-2 my-lg-0"},localStorage.accesstoken?a:t,localStorage.accesstoken?n:t,localStorage.accesstoken?t:l,localStorage.accesstoken?o:s))}}]),t}(r.a.Component),$=Object(g.a)(L),z=a(36),H=(a(132),a(67)),U=(a(180),a(329),function(e){return I.a.get("/api/search/hotels",{params:e}).then(function(e){return e.status,e.data})}),W=function(e,t){switch(t){case"city":t="locality";break;case"state":t="region";break;default:t="street-address"}var a="";return e.includes(t)&&(a=(a=e.substring(e.lastIndexOf(t)+t.length+2)).substr(0,a.indexOf("<"))),a},V=function(e){function t(e){var a;Object(o.a)(this,t),a=Object(i.a)(this,Object(m.a)(t).call(this,e));var n=new URLSearchParams(window.location.search),l="";return n.get("full_address")&&""!==n.get("full_address")&&(l=n.get("full_address")),a.state={fullAddress:l},a.autocompleteInput=r.a.createRef(),a.autocomplete=null,a.handlePlaceChanged=a.handlePlaceChanged.bind(Object(p.a)(Object(p.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.autocomplete=new window.google.maps.places.Autocomplete(this.autocompleteInput.current,{types:["geocode"]}),this.autocomplete.addListener("place_changed",this.handlePlaceChanged)}},{key:"handlePlaceChanged",value:function(){var e=this.autocomplete.getPlace();this.props.onPlaceChanged(e)}},{key:"render",value:function(){return r.a.createElement("input",{type:"text",className:"location-input form-control",ref:this.autocompleteInput,defaultValue:this.state.fullAddress,id:"search_bar",placeholder:"Where are you going?"})}}]),t}(r.a.Component),J=a(218),Z=a.n(J),G=a(487),Q=[{value:"price_asc",label:"Price(Low to High)"},{value:"price_des",label:"Price(High to Low)"},{value:"name_asc",label:"Name(A to Z)"},{value:"name_des",label:"Name(Z to A)"},{value:"distance_asc",label:"Distance(Nearest First)"},{value:"distance_des",label:"Distance(Farthest First)"}],K=[{name:"WiFi",label:"WiFi"},{name:"Pool",label:"Pool"},{name:"Spa",label:"Spa"},{name:"Smoking",label:"Smoking"}],X=[{value:"WiFi",label:"WiFi"},{value:"Pool",label:"Pool"},{value:"Spa",label:"Spa"},{value:"TV",label:"TV"},{value:"Air Conditioning",label:"Air Conditioning"},{value:"Sound Proof",label:"Sound Proof"},{value:"Balcony",label:"Balcony"},{value:"Bathtub",label:"Bathtub"},{value:"Barbecue",label:"Barbecue"},{value:"Smoking",label:"Smoking"},{value:"Beach view",label:"Beach view"},{value:"Strip View",label:"Strip View"}],ee={width:"100%",height:"100vh",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center center",backgroundImage:"url(".concat(Z.a,")")},te=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).handleChange=function(t){var a=t.target,n="checkbox"===a.type?a.checked:a.value,r=a.name;e.setState(Object(z.a)({},r,n))},e.handleCheckBox=function(t){var a=t.target.name;e.setState(function(e){return{checkbox:Object(v.a)({},e.checkbox,Object(z.a)({},a,!e.checkbox[a]))}})},e.adultIncrement=function(){var t=parseInt(document.getElementById("adult").value,10);t++,document.getElementById("adult").value=t;var a=parseInt(document.getElementById("adult").value,10)+parseInt(document.getElementById("children").value,10);e.setState({adult:t,guest_number:a})},e.adultDecrement=function(){var t=parseInt(document.getElementById("adult").value,10);0!==t&&t--,document.getElementById("adult").value=t;var a=parseInt(document.getElementById("adult").value,10)+parseInt(document.getElementById("children").value,10);e.setState({adult:t,guest_number:a})},e.childrenIncrement=function(){var t=parseInt(document.getElementById("children").value,10);t++,document.getElementById("children").value=t;var a=parseInt(document.getElementById("adult").value,10)+parseInt(document.getElementById("children").value,10);e.setState({children:t,guest_number:a})},e.childrenDecrement=function(){var t=parseInt(document.getElementById("children").value,10);0!==t&&t--,document.getElementById("children").value=t;var a=parseInt(document.getElementById("adult").value,10)+parseInt(document.getElementById("children").value,10);e.setState({children:t,guest_number:a})},e.search=function(t){t.preventDefault();var a=Object.keys(e.state.checkbox).filter(function(t){return!0===e.state.checkbox[t]}),n={streetAddress:e.state.streetAddress,city:e.state.city,state:e.state.state,latitude:e.state.latitude,longitude:e.state.longitude,date_in:e.state.date_in.format("YYYY-MM-DD"),date_out:e.state.date_out.format("YYYY-MM-DD"),adult:e.state.adult,children:e.state.children,guest_number:e.state.guest_number};U(n).then(function(t){var r="latitude=".concat(n.latitude,"&longitude=").concat(n.longitude)+"&date_in=".concat(n.date_in,"&date_out=").concat(n.date_out)+"&adult=".concat(e.state.adult,"&children=").concat(e.state.children)+"&guest_number=".concat(e.state.guest_number,"&full_address=").concat(e.state.fullAddress)+"&city=".concat(n.city,"&street_address=").concat(n.streetAddress)+"&state=".concat(n.state)+"&amenities=".concat(a);e.props.history.push({pathname:"/HotelSearch",search:"?".concat(r)})})},e.state={fullAddress:"",streetAddress:"",city:"",state:"",latitude:"",longitude:"",date_in:null,date_out:null,adult:0,children:0,focusedInput:null,guest_number:0,place:{},checkbox:{}},e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){}},{key:"showPlaceDetails",value:function(e){var t=JSON.stringify(e.geometry.location,null,2).replace(/['"]+/g,""),a=t.substring(t.lastIndexOf("lat:")+"lat: ".length,t.lastIndexOf(",")),n=t.substring(t.lastIndexOf("lng:")+"lng: ".length,t.lastIndexOf("}")).replace(/\s/g,""),r=JSON.stringify(e.formatted_address,null,2).replace(/['"]+/g,""),l=JSON.stringify(e.adr_address,null,2).replace(/['"]+/g,"");l=l.replace(/(\r\n|\n|\r)/gm,"");var s=W(l),o=W(l,"city"),c=W(l,"state");this.setState({latitude:a,longitude:n,fullAddress:r,streetAddress:s,city:o,state:c,place:e})}},{key:"render",value:function(){var e=this,t=r.a.createElement("div",{className:"col-lg-12 home-container col-auto",style:ee},r.a.createElement("div",{className:"home-form-container col-lg-12"},r.a.createElement(w.a,{className:"home-form col-lg-12",onSubmit:this.search},r.a.createElement(N.a,null,r.a.createElement("div",{className:"col-lg-12 custom-row"},r.a.createElement("div",{className:"col-lg-6 top-header ml-lg-5 "},r.a.createElement("div",{className:"subheading-sm"},"Welcome"),r.a.createElement("div",null,"Spartan Hotels"))),r.a.createElement("div",{className:"row mb-5 mr-lg-5 ml-lg-5"},r.a.createElement("div",{className:"col-md-12 home-inputs-container"},r.a.createElement("div",{className:"block-32"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 mb-3 mb-lg-0 col-lg-4"},r.a.createElement("label",{className:"input-labels"},"Location"),r.a.createElement("div",{className:"field-icon-wrap"},r.a.createElement("div",{className:"icon"},r.a.createElement("i",{className:"fa fa-search"})),r.a.createElement(V,{onPlaceChanged:this.showPlaceDetails.bind(this)}))),r.a.createElement("div",{className:"col-md-6 mb-3 mb-lg-0 col-lg-4"},r.a.createElement("label",{className:"input-labels"},"Check In \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0      Check Out"),r.a.createElement("div",{className:"field-icon-wrap check-wrap"},r.a.createElement("div",{className:"icon"},r.a.createElement("i",{className:"fa fa-calendar"})),r.a.createElement(H.DateRangePicker,{startDatePlaceholderText:"mm/dd/yyyy",startDate:this.state.date_in,startDateId:"your_unique_start_date_id",endDatePlaceholderText:"mm/dd/yyyy",endDate:this.state.date_out,endDateId:"your_unique_end_date_id",onDatesChange:function(t){var a=t.startDate,n=t.endDate;return e.setState({date_in:a,date_out:n})},focusedInput:this.state.focusedInput,onFocusChange:function(t){return e.setState({focusedInput:t})}}))),r.a.createElement("div",{className:"col-md-6 mb-3 mb-md-0 col-lg-2"},r.a.createElement("div",{className:"row"},r.a.createElement("label",{className:"input-labels"},"Guests"),r.a.createElement("div",{className:"icon"},r.a.createElement("span",{className:"ion-ios-arrow-down"})),r.a.createElement("div",{className:0===this.state.guest_number?"home-guest-dropdown col-lg-12 menu-box menu-item":"home-guest-dropdown-filled col-lg-12 menu-box menu-item"}," ",0===this.state.guest_number?null:this.state.guest_number,"\xa0guests",r.a.createElement("ul",{className:"home-guest-dropdown-list-style"},r.a.createElement("li",null,r.a.createElement("div",{className:"form-inline home-adults-container"},r.a.createElement("div",{className:"home-adults"},"Adults"),r.a.createElement("div",{className:"home-increments"},r.a.createElement("i",{className:"fa fa-minus home-guest-icon-increment",type:"button",value:"Decrement Value",onClick:this.adultDecrement}),r.a.createElement("input",{readOnly:!0,className:"home-guest-input",name:"adult",type:"text",id:"adult",value:this.state.adult,onChange:this.handleChange}),r.a.createElement("i",{className:"fa fa-plus home-guest-icon-decrement",type:"button",value:"Increment Value",onClick:this.adultIncrement}))),r.a.createElement("div",{className:"form-inline home-children-container"},r.a.createElement("div",{className:"home-children"},"Children"),r.a.createElement("div",{className:"home-increments"},r.a.createElement("i",{className:"fa fa-minus home-guest-icon-increment",type:"button",value:"Decrement Value",onClick:this.childrenDecrement}),r.a.createElement("input",{readOnly:!0,className:"home-guest-input",name:"children",type:"text",id:"children",value:this.state.children,onChange:this.handleChange}),r.a.createElement("i",{className:"fa fa-plus home-guest-icon-decrement",type:"button",value:"Increment Value",onClick:this.childrenIncrement})))))))),r.a.createElement("div",{className:"col-md-6 mb-3 mb-md-0 col-lg-2 "},r.a.createElement("label",{htmlFor:"checkin"},"\xa0"),r.a.createElement("div",{className:""},r.a.createElement("button",{disabled:!this.state.city||!this.state.date_in||!this.state.date_out||0===this.state.guest_number,className:"home-submit-button btn btn-primary py-3 px-4",type:"submit"},"Search"))))),r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("div",{className:"form-checkboxes row home-checkboxes text-center"},K.map(function(t,a){return r.a.createElement(G.a,{className:"col-lg-3 input-labels",type:"checkbox",key:a,id:a+123,name:t.name,label:t.label,value:t.value,onChange:e.handleCheckBox})})))))))));return r.a.createElement("div",null,t)}}]),t}(r.a.Component),ae=Object(g.a)(te),ne=a(41),re=a.n(ne),le=a(50),se=a(488),oe=a(489),ce=a(490),ie=a(491),me=(a(332),a(333),a(15)),de=a.n(me),ue=a(227),he=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(ue.a,{isMulti:!0,name:"Amenities",options:X,defaultValue:this.props.value,placeholder:"Choose amenities",onChange:this.props.handleFilterDropdown,className:"basic-multi-select",classNamePrefix:"select"})}}]),t}(r.a.Component),pe="https://cdn.mapmarker.io/api/v1/pin?labelColor=6E942A&size=40&background=D94B43&color=333&hoffset=0&text=",ge="https://cdn.mapmarker.io/api/v1/pin?labelColor=00ff00&size=40&background=11942A&color=333&hoffset=0&text=",ve=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).convertSelectedOption=function(){var e="";a.state.selectedOption.forEach(function(t,n){e+=t.label,n!==a.state.selectedOption.length-1&&(e+=",")}),a.setState(function(t){return{searchParams:Object(v.a)({},t.searchParams,{amenities:e})}})},a.handleFilterDropdown=function(e){a.setState({selectedOption:e},function(){return a.convertSelectedOption()})},a.handleChange=function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value,r=t.name;a.setState(Object(z.a)({},r,n))},a.adultIncrement=function(){var e=parseInt(document.getElementById("adult").value,10);e++,document.getElementById("adult").value=e;var t=parseInt(document.getElementById("adult").value,10)+parseInt(document.getElementById("children").value,10);a.setState({adult:e,guest_number:t})},a.adultDecrement=function(){var e=parseInt(document.getElementById("adult").value,10);0!==e&&e--,document.getElementById("adult").value=e;var t=parseInt(document.getElementById("adult").value,10)+parseInt(document.getElementById("children").value,10);a.setState({adult:e,guest_number:t})},a.childrenIncrement=function(){var e=parseInt(document.getElementById("children").value,10);e++,document.getElementById("children").value=e;var t=parseInt(document.getElementById("adult").value,10)+parseInt(document.getElementById("children").value,10);a.setState({children:e,guest_number:t})},a.childrenDecrement=function(){var e=parseInt(document.getElementById("children").value,10);0!==e&&e--,document.getElementById("children").value=e;var t=parseInt(document.getElementById("adult").value,10)+parseInt(document.getElementById("children").value,10);a.setState({children:e,guest_number:t})},a.getHotelSearchResult=function(e){e.preventDefault();var t=new URLSearchParams(a.props.location.search).get("sortBy"),n="";e.target.name&&"sortBy"===e.target.name&&(n="&sortBy=".concat(e.target.value),a.setState(Object(z.a)({},e.target.name,e.target.value))),e.target.name&&"pagination"===e.target.name&&(n="&pageNumber=".concat(e.target.value),t&&""!==t&&(n+="&sortBy=".concat(t))),a.state.searchParams.amenities&&(n+="&amenities=".concat(a.state.searchParams.amenities));var r=Object.assign({},a.state.searchParams);r.date_in=r.date_in.format("YYYY-MM-DD"),r.date_out=r.date_out.format("YYYY-MM-DD"),U(r).then(function(){var e="latitude=".concat(r.latitude,"&longitude=").concat(r.longitude)+"&date_in=".concat(r.date_in,"&date_out=").concat(r.date_out)+"&adult=".concat(a.state.adult,"&children=").concat(a.state.children)+"&guest_number=".concat(a.state.guest_number,"&full_address=").concat(a.state.fullAddress)+"&street_address=".concat(a.state.streetAddress,"&city=").concat(r.city)+"&state=".concat(r.state)+"".concat(n);a.props.history.push({pathname:"/HotelSearch",search:"?".concat(e)})})},a.roomSearch=function(e){return function(t){var n=new URLSearchParams(a.props.location.search),r=n.get("date_in"),l=n.get("date_out"),s=n.get("guest_number"),o=n.get("city"),c="?date_in=".concat(r,"&date_out=").concat(l,"&guest_number=").concat(s,"&hotel_id=").concat(e.hotel_id,"&city=").concat(o);a.props.history.push({pathname:"/RoomPage",search:"".concat(c)})}};var n=new URLSearchParams(a.props.location.search),r=n.get("city"),l=n.get("date_in"),s=n.get("date_out"),c=n.get("longitude"),d=n.get("latitude"),u=n.get("adult"),h=n.get("children"),p=n.get("guest_number"),g=n.get("sortBy"),E=n.get("state"),f="",y=[];if(n.get("amenities")&&""!==n.get("amenities")){var b=(f=n.get("amenities")).split(",");b.constructor===Array&&b.forEach(function(e){var t={};t.value=e,t.label=e,y.push(t)})}return a.state={hotels:[{}],searchClickedToggle:!1,sortBySelectedToggle:!1,searchParams:{city:r,latitude:d,longitude:c,state:E,date_in:de()(l,"YYYY-MM-DD"),date_out:de()(s,"YYYY-MM-DD"),amenities:f},sortBy:g,hotel_id:0,fullAddress:"",streetAddress:"",adult:u,children:h,guest_number:p,focusedInput:null,place:{},selectedOption:y},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=Object(le.a)(re.a.mark(function e(){return re.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchSearchResult();case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e){e.location.search!==this.props.location.search&&this.fetchSearchResult()}},{key:"showPlaceDetails",value:function(e){var t=JSON.stringify(e.geometry.location,null,2).replace(/['"]+/g,""),a=t.substring(t.lastIndexOf("lat:")+"lat: ".length,t.lastIndexOf(",")),n=t.substring(t.lastIndexOf("lng:")+"lng: ".length,t.lastIndexOf("}")),r=JSON.stringify(e.formatted_address,null,2).replace(/['"]+/g,""),l=JSON.stringify(e.adr_address,null,2).replace(/['"]+/g,"");l=l.replace(/(\r\n|\n|\r)/gm,"");var s=W(l),o=W(l,"city"),c=W(l,"state");this.setState(function(t){return{searchParams:Object(v.a)({},t.searchParams,{city:o,state:c,latitude:a,longitude:n}),fullAddress:r,streetAddress:s,place:e}})}},{key:"fetchSearchResult",value:function(){var e=this,t="/api/search/hotels"+this.props.location.search;new URLSearchParams(this.props.location.search).get("sortBy")||this.setState({sortBy:""}),I.a.get(t).then(function(t){e.setState({hotels:t.data})}).then(function(){e.loadGoogleMap()})}},{key:"loadGoogleMap",value:function(){var e=this,t=new URLSearchParams(this.props.location.search),a=parseFloat(t.get("latitude")),n=parseFloat(t.get("longitude")),r=new window.google.maps.Map(document.getElementById("map"),{center:{lat:a,lng:n},zoom:14}),l=new window.google.maps.LatLngBounds;window.googleMap=r;var s=new window.google.maps.InfoWindow;window.infoWindow=s,window.markers=[],this.state.hotels.results.forEach(function(t,a){var n=e.getHotelSearchResultImages(t.images),s="\n\n\t\t\t\t\t\t\t\t\t<img src=".concat(n,' style="max-width: 100%; max-height: 100%; padding-bottom: 10px"/>\n\t\t\t\t\t\t\t\t\t<a href="" style="padding-top:1vh; text-align:center;"><h5>').concat(t.name,'</h5></a>\n\t\t\t\t\t\t\t\t\t<div style="font-weight: 425;"> ').concat(t.address,'</div>\n\t\t\t\t\t\t\t\t\t<div style="font-weight: 425; padding-bottom: 8px;">').concat(t.city,", ").concat(t.state,'</div>\n\t\t\t\t\t\t\t\t\t<p style="text-align: center"> <img src="http://www.stickpng.com/assets/images/5a4525cd546ddca7e1fcbc84.png" alt="phone"style="width: 12px; height: 12px" /> &nbsp;').concat(t.phone_number,'</p>\n\t\t\t\t\t\t\t\t\t<p style="font-size: 1.2em; font-weight:500"> <img src="https://static.thenounproject.com/png/18095-200.png" alt="price" style="width: 25px; height: 25px" /> ').concat(t.min_price.toFixed(2)," ~ ").concat(t.max_price.toFixed(2),"</p>\n\n\n\n\t\t\t\t\t\t\t\t"),o=pe+""+(a+1),c=ge+""+(a+1),i=new window.google.maps.Marker({position:{lat:parseFloat(t.latitude),lng:parseFloat(t.longitude)},map:window.googleMap,title:t.name,icon:o});l.extend(new window.google.maps.LatLng(t.latitude,t.longitude)),window.googleMap.fitBounds(l),window.google.maps.event.addListenerOnce(r,"idle",function(){r.getZoom()>16&&r.setZoom(16),window.markers.push(i)}),i.addListener("click",function(){var e=new window.google.maps.LatLng(t.latitude,t.longitude);window.googleMap.panTo(e),window.markers.forEach(function(e,t){e.setIcon(pe+(t+1)),e.setAnimation(null)}),window.markers[a].setIcon(c),setTimeout(function(){window.markers[a].setAnimation()},750),window.infoWindow.setContent(s),window.infoWindow.open(window.googleMap,i),window.infoWindow.setOptions({maxWidth:250})})})}},{key:"generatePageNumbers",value:function(){var e=[],t=new URLSearchParams(this.props.location.search),a=parseInt(t.get("pageNumber"));a||(a=0);var n=!1;if(this.state.hotels.results&&this.state.hotels.results.length>0)for(var l=0;l<this.state.hotels.totalResultCount/10;l++)n=a===l,e.push(r.a.createElement(se.a,{active:n,key:l},r.a.createElement(oe.a,{name:"pagination",onClick:this.getHotelSearchResult,key:l,value:l},l+1)));return e}},{key:"moveMap",value:function(e,t,a){var n=new window.google.maps.LatLng(e,t);window.googleMap.panTo(n),window.markers.forEach(function(e,t){e&&(t===a?(e.setIcon(ge+(a+1)),e.setZIndex(12),e.setAnimation(window.google.maps.Animation.BOUNCE)):(e.setIcon(pe+(t+1)),e.setZIndex(0),e.setAnimation(null)))})}},{key:"getHotelSearchResultImages",value:function(e){return e&&e.constructor===Array?e.split(",")[0]:e}},{key:"render",value:function(){var e=this;if(void 0===this.state.hotels.results)return r.a.createElement("div",null," Loading...");var t=r.a.createElement("div",null,r.a.createElement("hr",{className:"hotel-search-hr-bottom"}),r.a.createElement(N.a,{className:"form-inline hotel-search-inputs"},r.a.createElement("div",{className:"col-lg-3 input-group room-page-location"},r.a.createElement("div",{className:"input-group-append"},r.a.createElement("div",{className:"location-input-icon input-group-text"},r.a.createElement("i",{className:"fa fa-search"}))),r.a.createElement(V,{onPlaceChanged:this.showPlaceDetails.bind(this)})),r.a.createElement("div",{className:"col-lg-4 field-icon-wrap input-group room-page-search-date custom-row"},r.a.createElement("div",{className:"input-group-append"},r.a.createElement("div",{className:"check-in-icon input-group-text"},r.a.createElement("i",{className:"fa fa-calendar"}))),r.a.createElement("div",{className:"room-page-date-check-wrap"},r.a.createElement(H.DateRangePicker,{startDate:this.state.searchParams.date_in,startDateId:"your_unique_start_date_id",endDate:this.state.searchParams.date_out,endDateId:"your_unique_end_date_id",onDatesChange:function(t){var a=t.startDate,n=t.endDate;return e.setState(function(e){return{searchParams:Object(v.a)({},e.searchParams,{date_in:a,date_out:n})}})},focusedInput:this.state.focusedInput,onFocusChange:function(t){return e.setState({focusedInput:t})}}))),r.a.createElement("div",{className:" col-lg-2 input-group menu-container room-page-guest-container"},r.a.createElement("div",{className:"col-lg-12 hotel-search-menu-item"},r.a.createElement("div",{className:"home-guest-dropdown"},this.state.guest_number,"\xa0Guests"),r.a.createElement("ul",{className:"home-guest-dropdown-list-style"},r.a.createElement("li",null,r.a.createElement("div",{className:"form-inline home-adults-container"},r.a.createElement("div",{className:"col-lg-3 home-adults"},"Adults"),r.a.createElement("div",{className:"col-lg-9 home-increments"},r.a.createElement("i",{className:"fa fa-minus home-guest-icon-increment",type:"button",value:"Decrement Value",onClick:this.adultDecrement}),r.a.createElement("input",{readOnly:!0,className:"home-guest-input",name:"adult",type:"text",id:"adult",value:this.state.adult,onChange:this.handleChange}),r.a.createElement("i",{className:"fa fa-plus home-guest-icon-decrement",type:"button",value:"Increment Value",onClick:this.adultIncrement}))),r.a.createElement("div",{className:"form-inline home-children-container"},r.a.createElement("div",{className:"col-lg-3 home-children"},"Children"),r.a.createElement("div",{className:"col-lg-9 home-increments"},r.a.createElement("i",{className:"fa fa-minus home-guest-icon-increment",type:"button",value:"Decrement Value",onClick:this.childrenDecrement}),r.a.createElement("input",{readOnly:!0,className:"home-guest-input",name:"children",type:"text",id:"children",value:this.state.children,onChange:this.handleChange}),r.a.createElement("i",{className:"fa fa-plus home-guest-icon-decrement",type:"button",value:"Increment Value",onClick:this.childrenIncrement}))))))),r.a.createElement("div",{className:"col-lg-2 home-submit-button-container"},r.a.createElement(he,{value:this.state.selectedOption,handleFilterDropdown:this.handleFilterDropdown})),r.a.createElement("div",{className:"col-lg-1 home-submit-button-container"},r.a.createElement("button",{onClick:this.getHotelSearchResult,className:"p-2 submit-button btn btn-danger my-2 my-sm-0",type:"submit"},"Search"))),r.a.createElement("hr",{className:"hotel-search-hr-bottom"})),a=r.a.createElement("div",{className:"hotel-search-pagination"},r.a.createElement(ce.a,null,this.generatePageNumbers())),n=r.a.createElement("select",{name:"sortBy",onChange:this.getHotelSearchResult,value:this.state.sortBy},r.a.createElement("option",{value:"",disabled:!0,hidden:!0},"Sort By"),Q.map(function(e,t){return r.a.createElement("option",{key:t,value:e.value,label:e.label})})),l=r.a.createElement(ie.a,{hover:!0,borderless:!0},r.a.createElement("tbody",null,this.state.hotels.results.map(function(t,a){var n=e.getHotelSearchResultImages(t.images);return r.a.createElement("tr",{key:a,className:"hotel-search-row shadow-sm p-3 mb-5",tag:"a",onClick:e.roomSearch(t),onMouseEnter:function(){return e.moveMap(t.latitude,t.longitude,a)},style:{cursor:"pointer"}},r.a.createElement("td",{className:""},r.a.createElement("img",{className:"hotel-search-item-image",src:n,alt:"logo"})),r.a.createElement("td",{className:""},r.a.createElement("div",null,r.a.createElement("div",{className:"hotel-search-item-row hotel-search-item-header"},r.a.createElement("div",{className:"hotel-search-item-number"},a+1,"."),r.a.createElement("div",{className:"hotel-search-item-name"}," "," "),r.a.createElement("a",{href:" ",className:"col-lg-10 hotel-search-item-name"},t.name)),r.a.createElement("div",{className:"hotel-search-item-row hotel-search-item-rating"},r.a.createElement("span",{className:"fa fa-star hotel-search-item-rating-checked"}),r.a.createElement("span",{className:"fa fa-star hotel-search-item-rating-checked"}),r.a.createElement("span",{className:"fa fa-star hotel-search-item-rating-checked"}),r.a.createElement("span",{className:"fa fa-star hotel-search-item-rating-checked"}),r.a.createElement("span",{className:"fa fa-star"})),r.a.createElement("div",{className:"hotel-search-item-row hotel-search-item-address"},t.address),r.a.createElement("div",{className:"hotel-search-item-row hotel-search-item-address"},t.city),r.a.createElement("div",{className:"hotel-search-item-row hotel-search-item-address"},t.phone_number))),r.a.createElement("td",{className:""},r.a.createElement("div",null,r.a.createElement("div",{className:"hotel-search-item-row"},r.a.createElement("div",{className:"hotel-search-item-price"},"$",t.min_price.toFixed(2)," \xa0-\xa0 $",t.max_price.toFixed(2))))))}))),s=r.a.createElement("div",{className:"col-lg-6 hotel-search-first-column"},r.a.createElement("div",{className:"hotel-search-sort-container row"},r.a.createElement("div",{className:"col-lg-1"},n)),r.a.createElement("div",{className:"hotel-search-table-container"},l),this.state.hotels.results.length>0?a:""),o=r.a.createElement("div",{className:"col-lg-6 hotel-search-first-column"},"No Result"),c=r.a.createElement("div",null,t,r.a.createElement("div",{className:"hotel-search-columns-container col-lg-12 row"},r.a.createElement("div",{className:"hotel-search-map-column col-lg-6"},r.a.createElement("div",{id:"map"})),this.state.hotels.results.length>0?s:o));return r.a.createElement("div",null,r.a.createElement("div",{className:"hotel-search-container"},c))}}]),t}(r.a.Component),Ee=Object(g.a)(ve),fe=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),t}(r.a.Component),ye=(a(105),a(90)),be=a.n(ye),we=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).handleSubmit=function(t){if(t.preventDefault(),e.nameChecker()){var a={name:e.state.fields.name};T(a).then(function(e){console.log(e.data)}),window.location.reload()}},e.state={modal:!1,fields:{name:""},errors:{}},e.toggle=e.toggle.bind(Object(p.a)(Object(p.a)(e))),e.handleUpdate=e.handleUpdate.bind(Object(p.a)(Object(p.a)(e))),e.handleSubmit=e.handleSubmit.bind(Object(p.a)(Object(p.a)(e))),e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"handleUpdate",value:function(e){var t=this.state.fields;t[e.target.name]=e.target.value,this.setState({fields:t})}},{key:"toggle",value:function(){this.setState(Object(v.a)({},this.state,{modal:!this.state.modal}))}},{key:"nameChecker",value:function(){var e={},t=!0;return""===this.state.fields.name&&(t=!1,e.name="*Field was empty"),this.setState({errors:e}),t}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(E.a,{size:"sm",color:"info",onClick:this.toggle,className:"profile-button"},"Edit Name"),r.a.createElement(f.a,{isOpen:this.state.modal,toggle:this.toggle,centered:!0},r.a.createElement(y.a,{toggle:this.toggle}," Edit Your Name "),r.a.createElement(b.a,null,r.a.createElement(w.a,{onSubmit:this.handleSubmit},r.a.createElement(N.a,null,r.a.createElement(S.a,null," Name: "),r.a.createElement(O.a,{type:"text",name:"name",placeholder:this.state.name,value:this.state.fields.name,onChange:this.handleUpdate,required:!0}),r.a.createElement("div",{className:"text-warning"},this.state.errors.name)))),r.a.createElement(j.a,null,r.a.createElement(E.a,{color:"primary",onClick:this.handleSubmit}," Save "),r.a.createElement(E.a,{color:"secondary",onClick:this.toggle}," Cancel "))))}}]),t}(r.a.Component),_e=Object(g.a)(we),ke=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).handleSubmit=function(t){if(t.preventDefault(),e.validate()){var a={oldpass:e.state.fields.oldpass,newpass:e.state.fields.newpass};R(a).then(function(t){console.log(t),200===t?(e.setState({old_pass_error:!1},function(){return e.pushtoCurrentURL()}),alert("Your password has been updated!"),window.location.reload()):400===t&&e.setState({old_pass_error:!0},function(){return e.pushtoCurrentURL()})})}},e.state={modal:!1,fields:{oldpass:"",newpass:"",repass:""},errors:{},password_error:[],old_pass_error:!1,newPasswordCheck:[{req:"\u2265 8 characters",valid:!1},{req:"At least 1 uppercase letter",valid:!1},{req:"At least 1 lowercase letter",valid:!1},{req:"At least 1 special character !@#$%^&*",valid:!1}]},e.toggle=e.toggle.bind(Object(p.a)(Object(p.a)(e))),e.updateFields=e.updateFields.bind(Object(p.a)(Object(p.a)(e))),e.handleSubmit=e.handleSubmit.bind(Object(p.a)(Object(p.a)(e))),e.newPasswordChecker=e.newPasswordChecker.bind(Object(p.a)(Object(p.a)(e))),e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"updateFields",value:function(e){var t=this.state.fields;t[e.target.name]=e.target.value,this.setState({fields:t}),this.newPasswordChecker()}},{key:"newPasswordChecker",value:function(){var e=this.state.fields.newpass,t=this.state.newPasswordCheck;t[0].valid=e.length>=8,/(?=.*[A-Z])/.test(e)?t[1].valid=!0:t[1].valid=!1,/(?=.*[a-z])/.test(e)?t[2].valid=!0:t[2].valid=!1,/(?=.*[!@#$%^&*])/.test(e)?t[3].valid=!0:t[3].valid=!1,this.setState({newPasswordCheck:t})}},{key:"toggle",value:function(){this.setState(Object(v.a)({},this.state,{modal:!this.state.modal}))}},{key:"pushtoCurrentURL",value:function(){var e=this.props.location.pathname+this.props.location.search;this.props.history.push(e)}},{key:"validate",value:function(){var e=this.state.fields,t={},a=!0;(""===e.newpass&&(a=!1,t.newpass="*Please enter a password"),""===e.oldpass&&(a=!1,t.oldpass="*Please enter the old password"),""!==e.newpass)&&(new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&*]).{8,}$").test(e.newpass)?(""===e.repass&&(a=!1,t.repass="*Please re-enter password"),""!==e.repass&&(e.repass.match(e.newpass)||(a=!1,t.repass="*Passwords must match"))):(a=!1,t.newpass="*This password does not meet the requirements"));return this.setState({errors:t,password_error:[]}),a}},{key:"render",value:function(){var e=r.a.createElement("div",{className:"text-warning"},this.state.password_error.map(function(e){return r.a.createElement("div",null,e)})),t=r.a.createElement("div",{className:"text-warning"}),a=r.a.createElement("div",{className:"text-warning"},"Old Password does not match");this.state.newPasswordCheck.map(function(e){return r.a.createElement("div",{key:e.req,className:e.valid?"valid-req":"invalid-req"},e.req)});return r.a.createElement("div",null,r.a.createElement(E.a,{size:"sm",color:"info",onClick:this.toggle,className:"profile-button"},"Change Password"),r.a.createElement(f.a,{isOpen:this.state.modal,toggle:this.toggle,centered:!0},r.a.createElement(y.a,{toggle:this.toggle}," Change Your Password "),r.a.createElement(b.a,null,r.a.createElement(w.a,{onSubmit:this.handleSubmit},r.a.createElement(N.a,null,r.a.createElement(S.a,null," Old Password: "),r.a.createElement(O.a,{type:"password",name:"oldpass",placeholder:"********",value:this.state.fields.oldpass,onChange:this.updateFields,required:!0}),r.a.createElement("div",{className:"text-warning"},this.state.errors.oldpass),this.state.old_pass_error?a:t),r.a.createElement(N.a,null,r.a.createElement(S.a,null," New Password: "),r.a.createElement(O.a,{type:"password",name:"newpass",placeholder:"********",value:this.state.fields.newpass,onChange:this.updateFields,required:!0}),r.a.createElement("div",{className:"text-warning"},this.state.errors.newpass),this.state.password_error?e:t),r.a.createElement(N.a,null,r.a.createElement(S.a,null," Re-enter New Password: "),r.a.createElement(O.a,{type:"password",name:"repass",placeholder:"********",value:this.state.fields.repass,onChange:this.updateFields,required:!0}),r.a.createElement("div",{className:"text-warning"},this.state.errors.repass)))),r.a.createElement(j.a,null,r.a.createElement(E.a,{color:"primary",onClick:this.handleSubmit}," Save "),r.a.createElement(E.a,{color:"secondary",onClick:this.toggle}," Cancel "))))}}]),t}(r.a.Component),Ne=Object(g.a)(ke),Se=a(492),Oe=a(493),xe=a(494),Pe=a(495),Ce={width:"100%",height:"100vh",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center center",backgroundImage:"url(".concat(be.a,")")},je=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",email:"",reward:"",currentDates:"",futureDates:"",rewardsEarned:"",transaction:"",currentRewardsHistory:[],futureRewardsHistory:[],user:[]},a.change=function(e){a.setState(Object(z.a)({},e.target.name,e.target.value))},a.onSubmit=function(e){e.preventDefault(),a.props.onSubmit(a.state),console.log(a.state)},a.fileSelectedHandler=function(e){console.log(e.target.files[0])},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"RewardHistory",value:function(e){e.preventDefault(),this.props.history.push("/RewardHistory")}},{key:"componentDidMount",value:function(){var e=this;I.a.get("/api/profile").then(function(t){return e.setState({name:t.data.name,email:t.data.email,reward:t.data.reward})})}},{key:"redirectToHome",value:function(){this.props.history.push("/")}},{key:"render",value:function(){var e=r.a.createElement("div",{className:"profile-form-container col-lg-12 dark-tint"},r.a.createElement("div",null,r.a.createElement(Se.a,{className:"profile-form-card-container"},r.a.createElement(_.a,null,r.a.createElement(k.a,{sm:"12",md:{size:6,offset:3}},r.a.createElement("div",{className:"profile-card"},r.a.createElement("div",{className:"profile-center-title"}," Hello ",this.state.name,"! "),r.a.createElement("br",null),r.a.createElement("div",{className:"profile-card-body profile-inner-card"},r.a.createElement(k.a,null,r.a.createElement(Oe.a,null,r.a.createElement(xe.a,{className:"profile-inner-cardheader",tag:"h4"}," ABOUT "),r.a.createElement("div",{className:"profile-inner-cardbody"},r.a.createElement(_.a,null,r.a.createElement(k.a,{xs:"6",sm:"4"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("img",{className:"profile-human-pic",src:"https://png.pngtree.com/svg/20160308/_user_profile_icon_1108089.png",alt:"profile",width:"115"})),r.a.createElement(k.a,null,r.a.createElement(Pe.a,{className:"profile-text-row"},r.a.createElement("br",null),r.a.createElement("b",null," Email: ")," ",this.state.email,r.a.createElement("br",null),r.a.createElement("b",null," Name: ")," ",this.state.name,r.a.createElement("br",null),r.a.createElement("b",null," Password: ")," ********"))),r.a.createElement(_.a,null,r.a.createElement(k.a,{xs:"4"}),r.a.createElement(k.a,{xs:"8"},r.a.createElement(_e,null),r.a.createElement(Ne,null),r.a.createElement("br",null))))))),r.a.createElement("div",{className:"profile-card-body profile-inner-card"},r.a.createElement(k.a,null,r.a.createElement(Oe.a,null,r.a.createElement(xe.a,{className:"profile-inner-cardheader",tag:"h4"}," REWARDS "),r.a.createElement("div",{className:"profile-inner-cardbody"},r.a.createElement(Pe.a,null,r.a.createElement("br",null),"Total Points: ",this.state.reward,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(E.a,{onClick:this.RewardHistory.bind(this),color:"info"}," See my reward history > "),r.a.createElement("br",null),r.a.createElement("br",null))))))))))));return r.a.createElement("div",{className:"col-lg-12 profile-container col-auto",style:Ce},localStorage.accesstoken?e:this.redirectToHome())}}]),t}(r.a.Component),De=Object(g.a)(je),Ie=(a(335),{width:"100%",height:"100vh",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center center",backgroundImage:"url(".concat(be.a,")")}),Re=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={rewardsHistory:[],user:[]},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;I.a.all([I.a.get("/api/rewardsHistory")]).then(I.a.spread(function(t){console.log(t.data[0]);for(var a=[],n=(new Date).toISOString().slice(0,10),r=0,l=0,s=0;s<t.data.length;s++){var o=t.data[s].transaction_id,c=t.data[s].name,i=t.data[s].date_in+" - "+t.data[s].date_out;t.data[s].date_active<=n?(r=0,l=t.data[s].change):(r=t.data[s].change,l=0),a[s]={booking_id:o,hotel:c,dates:i,points_pending:r,points_earned:l}}console.log(a),e.setState({rewardsHistory:a})})).catch(function(e){return console.log("asdasdasd",e)})}},{key:"renderRewardsTableData",value:function(){return this.state.rewardsHistory.map(function(e,t){var a=e.booking_id,n=e.hotel,l=e.dates,s=e.points_pending,o=e.points_earned;return r.a.createElement("tr",{key:t+1234},r.a.createElement("td",null,a),r.a.createElement("td",null,n),r.a.createElement("td",null,l),r.a.createElement("td",null,s),r.a.createElement("td",null,o))})}},{key:"redirectToHome",value:function(){this.props.history.push("/")}},{key:"render",value:function(){var e=r.a.createElement("div",{className:"history-form-container col-lg-12 dark-tint"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(Se.a,null,r.a.createElement(_.a,null,r.a.createElement(k.a,null,r.a.createElement("div",{className:"history-card"},r.a.createElement("div",{className:"history-card-body history-inner-card"},r.a.createElement("br",null),r.a.createElement("div",{className:"history-center-title"}," ",r.a.createElement("h2",null," My Reward History ")," "),r.a.createElement("br",null),r.a.createElement("div",{className:"history-table-wrapper-scroll-y history-scrollbar"},r.a.createElement(ie.a,{hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null," Booking ID "),r.a.createElement("th",null," Hotel "),r.a.createElement("th",null," Check-in - Check-out "),r.a.createElement("th",null," Points Pending "),r.a.createElement("th",null," Points Earned "))),r.a.createElement("tbody",null,this.renderRewardsTableData())))),r.a.createElement("div",null,r.a.createElement("p",null," *Disclaimer: Points are rewarded 24 hours after the completion of your stay. "))))))));return r.a.createElement("div",{className:"col-lg-12 history-container col-auto",style:Ie},localStorage.accesstoken?e:this.redirectToHome())}}]),t}(r.a.Component),Te=Object(g.a)(Re),qe=a(222),Ye=a.n(qe),Fe=(a(181),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={modal:!1,id:e.id,room_history:[]},a.toggle=a.toggle.bind(Object(p.a)(Object(p.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;I.a.get("/api/reservations/viewres").then(function(t){for(var a=[],n=0;n<t.data.length;n++){var r=t.data[n].transaction_id,l=t.data[n].room_number,s=t.data[n].bed_type,o=t.data[n].price;a[n]={booking_id:r,room_num:l,bed_type:s,room_price:o}}e.setState({room_history:a})})}},{key:"toggle",value:function(){this.setState(Object(v.a)({},this.state,{modal:!this.state.modal}))}},{key:"renderRoomsTableData",value:function(){var e=this;return this.state.room_history.map(function(t,a){var n=t.booking_id,l=t.room_num,s=t.bed_type,o=t.room_price;if(e.state.id==n)return r.a.createElement("tr",{key:a+1233},r.a.createElement("td",null,l),r.a.createElement("td",null,s),r.a.createElement("td",null,"$",o))})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(E.a,{color:"lightgray",onClick:this.toggle},r.a.createElement("img",{className:"reservations-image",src:"https://cdn1.iconfinder.com/data/icons/education-set-4/512/information-512.png",alt:"details"})),r.a.createElement(f.a,{isOpen:this.state.modal,toggle:this.toggle,centered:!0},r.a.createElement(y.a,{toggle:this.toggle}," Room Information "),r.a.createElement(b.a,null,r.a.createElement(ie.a,{className:"reservations-detail-table-text"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null," Room "),r.a.createElement("th",null," Bed "),r.a.createElement("th",null," Price "))),r.a.createElement("tbody",null,this.renderRoomsTableData())))))}}]),t}(r.a.Component)),Me=Object(g.a)(Fe),Ae=function(e){return I.a.post("/api/reservations/cancellation",{transaction_id:e.transaction_id}).then(function(e){return e.status,e.status}).catch(function(e){return e.response.status})},Be=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),console.log(e.target.value);var t={transaction_id:e.target.value};Ae(t).then(function(e){console.log(e),200===e&&window.location.reload()})},a.state={modal:!1,id:e.id},a.toggle=a.toggle.bind(Object(p.a)(Object(p.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"toggle",value:function(){this.setState(Object(v.a)({},this.state,{modal:!this.state.modal}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(E.a,{className:"reservations-button",color:"danger",onClick:this.toggle}," Cancel "),r.a.createElement(f.a,{isOpen:this.state.modal,toggle:this.toggle,centered:!0},r.a.createElement(y.a,{toggle:this.toggle},"Cancel Confirmation \xa0",r.a.createElement("img",{className:"reservations-image",src:"https://www.wiki.sc4devotion.com/images/3/3d/Wiki_warning_amber.png",alt:"warning"})),r.a.createElement(b.a,null,r.a.createElement("p",null," Once you cancel your booking, it cannot be undone. If yes, then you will be emailed a cancellation receipt. ")," Are you sure you want to cancel this booking?"),r.a.createElement(j.a,null,r.a.createElement(E.a,{color:"primary",onClick:this.handleSubmit,value:this.state.id}," Yes "),r.a.createElement(E.a,{color:"secondary",onClick:this.toggle}," No "))))}}]),t}(r.a.Component),Le=Object(g.a)(Be),$e={width:"100%",height:"100vh",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center center",backgroundImage:"url(".concat(Ye.a,")")},ze=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).modifyRoom=function(e){return function(t){t.preventDefault();var n=e,r="date_in=".concat(n.date_in,"&date_out=").concat(n.date_out,"\n\t\t\t\t\t\t\t\t&hotel_id=").concat(n.hotel_id,"&transaction_id=").concat(n.booking_id);a.props.history.push({pathname:"/ModifyRoomPage",search:"?".concat(r)})}},a.state={reservations:[],roominfo:[],transaction_id:""},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this;I.a.get("/api/reservations/viewres").then(function(t){for(var a=[],n=[],r=[],l=[],s=[],o=1,c=0;c<t.data.length;c++){r.push(t.data[c].bed_type),l.push(t.data[c].price),s.push(1);for(var i=c+1;i<t.data.length;i++){if(t.data[i].transaction_id!=t.data[c].transaction_id){c=i-1;break}t.data[i].bed_type==t.data[c].bed_type&&t.data[i].price==t.data[c].price?o++:(r.push(t.data[i].bed_type),l.push(t.data[i].price),s.push(o),o=1)}n.push({beds:r,prices:l,quans:s}),r=[],l=[],s=[]}if(void 0===t.data[0])a[0]={};else var m=t.data[0].transaction_id,d=t.data[0].date_in,u=t.data[0].date_out,h=t.data[0].name,p=n[0].beds.toString(),g=n[0].prices.toString(),v=n[0].quans.toString(),E=t.data[0].total_price,f=t.data[0].status,y=t.data[0].hotel_id;a[0]={booking_id:m,date_in:d,date_out:u,hotel_name:h,bed_type:p,room_price:g,room_quantities:v,total_price:E,status:f,hotel_id:y};for(var b=1,w=1;w<t.data.length;w++)t.data[w].transaction_id!=t.data[w-1].transaction_id&&(m=t.data[w].transaction_id,d=t.data[w].date_in,u=t.data[w].date_out,h=t.data[w].name,p=n[b].beds.toString(),g=n[b].prices.toString(),v=n[b].quans.toString(),E=t.data[w].total_price,f=t.data[w].status,y=t.data[w].hotel_id,b++,a.push({booking_id:m,date_in:d,date_out:u,hotel_name:h,total_price:E,status:f,hotel_id:y}));e.setState({reservations:a})})}},{key:"redirectToHome",value:function(){this.props.history.push("/")}},{key:"render",value:function(){var e=this,t=r.a.createElement("tbody",null,this.state.reservations.map(function(t,a){var n=t.booking_id,l=t.date_in,s=t.date_out,o=t.hotel_name,c=t.total_price,i=t.status;return"booked"===i?r.a.createElement("tr",{key:a+11},r.a.createElement("td",null,n),r.a.createElement("td",null,l),r.a.createElement("td",null,s),r.a.createElement("td",null,o),r.a.createElement("td",null,"$",c),r.a.createElement("td",null," ",r.a.createElement(E.a,{className:"reservations-button",color:"warning",value:t,onClick:e.modifyRoom(t)}," Modify "),r.a.createElement(Le,{id:n})," "),r.a.createElement("td",null,i),r.a.createElement("td",null," ",r.a.createElement(Me,{id:n})," ")):r.a.createElement("tr",{key:a+22},r.a.createElement("td",null,n),r.a.createElement("td",null,l),r.a.createElement("td",null,s),r.a.createElement("td",null,o),r.a.createElement("td",null,"$",c),r.a.createElement("td",null,"       "),r.a.createElement("td",null,i),r.a.createElement("td",null," ",r.a.createElement(Me,{id:n})," "))})),a=r.a.createElement("div",{className:"reservation-form-container col-lg-12 dark-tint"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(Se.a,null,r.a.createElement(_.a,null,r.a.createElement(k.a,null,r.a.createElement("div",{className:"reservations-card"},r.a.createElement("div",{className:"reservations-card-body reservations-inner-card"},r.a.createElement("br",null),r.a.createElement("div",{className:"reservations-center-title"}," ",r.a.createElement("h2",null," My Reservations ")," "),r.a.createElement("br",null),r.a.createElement("div",{className:"reservations-table-wrapper-scroll-y reservations-scrollbar"},r.a.createElement(ie.a,{hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Booking ID"),r.a.createElement("th",null,"Check-in"),r.a.createElement("th",null,"Check-out"),r.a.createElement("th",null,"Hotel"),r.a.createElement("th",null,"Total Price"),r.a.createElement("th",null,"Modify/Cancel"),r.a.createElement("th",null,"Status"),r.a.createElement("th",null,"Details"))),t)))))))));return r.a.createElement("div",{className:"col-lg-12 reservations-container col-auto",style:$e},a)}}]),t}(r.a.Component),He=a(496),Ue=(a(182),a(45)),We=a(46),Ve=a.n(We),Je=function(e){function t(e){var a;Object(o.a)(this,t),a=Object(i.a)(this,Object(m.a)(t).call(this,e));new URLSearchParams(a.props.location.search);var n=a.props.location.state.hotel_id,r=a.props.location.state.hotel,l=a.props.location.state.date_in,s=a.props.location.state.date_out,c=a.props.location.state.city,d=a.props.location.state.state,u=a.props.location.state.address,h=a.props.location.state.country,p=a.props.location.state.transaction_id,g=(new Date(s)-new Date(l))/864e5;console.log("night stayed ".concat(g));var v=[{}];"undefined"===typeof p||null===p?v=JSON.parse(a.props.location.state.rooms).results.filter(function(e){return e.desired_quantity>0}):(v=JSON.parse(a.props.location.state.rooms),console.log("oldroom passed "+p)),console.log("rooms list:"+a.props.location.state.rooms),console.log("everything :"+JSON.stringify(a.props.location.state));var E=a.props.location.state.oldAmountPaid,f=100*(a.props.location.state.oldTotalPrice-a.props.location.state.oldAmountPaid);console.log("rewards applied:"+f),console.log("old price"+a.props.location.state.oldTotalPrice),console.log("old price"+a.props.location.state.oldAmountPaid);var y=0;return"undefined"===typeof p||null===p?y=v.reduce(function(e,t){return e+t.price*t.desired_quantity},0):(console.log("oldroomForeach passed"),v.forEach(function(e){y+=e.price}),console.log("totalPrice:"+y)),a.state={hotel:r,country:h,state:d,address:u,date_in:l,date_out:s,city:c,nights_stayed:g,rewardPoint:0,totalPrice:y,hotel_id:n,rooms:v,transaction_id:p,oldPrice:E,rewards_applied:f},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;I.a.get("/api/profile").then(function(t){e.setState({rewardPoint:t.data.reward})})}},{key:"render",value:function(){return r.a.createElement(Ue.StripeProvider,{apiKey:"pk_test_zEPe15yKunUJ587sdpifv1EG00qBXp1rIj"},r.a.createElement("div",{class:"dimScreenSC "},r.a.createElement("div",{class:"containerSC  w-75",style:{}},r.a.createElement("div",{class:"w-100"},"undefined"!==typeof this.state.transaction_id?r.a.createElement(tt,{hotel:this.state.hotel,date_in:this.state.date_in,date_out:this.state.date_out,city:this.state.city,state:this.state.state,address:this.state.address,country:this.state.country,rooms:this.state.rooms,transaction_id:this.state.transaction_id,totalPrice:this.state.totalPrice,oldPrice:this.state.oldPrice,rewards_applied:this.state.rewards_applied}):r.a.createElement(Xe,{hotel:this.state.hotel,date_in:this.state.date_in,date_out:this.state.date_out,city:this.state.city,state:this.state.state,address:this.state.address,country:this.state.country,rooms:this.state.rooms}),r.a.createElement(Ue.Elements,null,r.a.createElement("div",{class:""},r.a.createElement(Qe,{totalPrice:this.state.totalPrice*this.state.nights_stayed,rewardPoint:this.state.rewardPoint,date_in:this.state.date_in,date_out:this.state.date_out,hotel_id:this.state.hotel_id,rooms:this.state.rooms,transaction_id:this.state.transaction_id,cancellation_charge:this.state.cancellation_charge,nights_stayed:this.state.nights_stayed})))))))}}]),t}(n.Component),Ze=Object(g.a)(Je);var Ge=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={discount:"0",tempTotal:"0"},a.handleDiscountUsed=function(){a.setState({discountUsed:!0}),a.state.discount>a.state.totalPriceBeforeTaxAndRewards?(a.setState({discount:a.state.totalPriceBeforeTaxAndRewards}),a.setState({total:0})):a.setState({total:a.state.finalTotal})},a.handleChange=function(e){return function(t){a.setState(Object(z.a)({},e,t.target.value))}},a.toggle=a.toggle.bind(Object(p.a)(Object(p.a)(a))),a.state={collapse:!1},a.state={discountUsed:!1},a.state={complete:!1,tax:.1*a.props.totalPrice,totalPriceBeforeTaxAndRewards:a.props.totalPrice,tempTotal:1.1*a.props.totalPrice,finalTotal:a.props.totalPrice,rewardPoint:a.props.rewardPoint,rewardPointValid:!1,total:1.1*a.props.totalPrice,discount:"0",date_in:a.props.date_in,date_out:a.props.date_out,hotel_id:a.props.hotel_id,rooms:a.props.rooms,transaction_id:a.props.transaction_id,cancellation_charge:a.props.cancellation_charge,nights_stayed:a.props.nights_stayed,checkBookings:!1},a.submit=a.submit.bind(Object(p.a)(Object(p.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;I.a.get("/api/profile").then(function(t){e.setState({rewardPoint:t.data.reward}),console.log("res"+JSON.stringify(t)),console.log("resReward "+JSON.stringify(t.data.reward))})}},{key:"handleDiscountUsedInput",value:function(e){this.setState({discount:e.target.value/100},function(){this.state.discount<0?this.setState({discount:0}):100*this.state.discount>this.state.rewardPoint?(this.setState({discount:this.state.rewardPoint/100}),this.setState({finalTotal:this.state.tempTotal-this.state.rewardPoint/100})):this.setState({finalTotal:this.state.tempTotal-this.state.discount})})}},{key:"toggle",value:function(){this.setState(function(e){return{collapse:!e.collapse}})}},{key:"submit",value:function(){var e=Object(le.a)(re.a.mark(function e(t){var a,n,r,l,s,o,c;return re.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.stripe.createToken({name:"SpartanHotel"});case 2:return a=e.sent,n=a.token,console.log(n),console.log(this.state.nights_stayed),console.log(this.state.totalPriceBeforeTaxAndRewards),r=[{}],r="undefined"===typeof this.state.transaction_id||null===this.state.transaction_id?this.state.rooms.filter(function(e){return e.desired_quantity>0}):this.state.rooms,l=0,"undefined"===typeof this.state.transaction_id||null===this.state.transaction_id?l=r.reduce(function(e,t){return e+t.price*t.desired_quantity},0):this.state.rooms.forEach(function(e){l+=e.price*e.quantity}),console.log("total room price per night ".concat(l)),"undefined"!==typeof this.state.transaction_id&&null!==this.state.transaction_id||r.map(function(e){e.quantity=e.desired_quantity,delete e.desired_quantity}),console.log("cancellation:"+l),console.log(" nights stayed"+this.state.nights_stayed),s={id:n.id,total_price:parseFloat(1.1*this.state.totalPriceBeforeTaxAndRewards).toFixed(2),cancellation_charge:parseFloat(l*this.state.nights_stayed*.2).toFixed(2),date_in:this.state.date_in,date_out:this.state.date_out,rewards_applied:100*this.state.discount,rooms:r,hotel_id:this.state.hotel_id,amount_due_from_user:parseFloat(this.state.total).toFixed(2),status:"Complete",guest_id:"0"},e.next=18,fetch("/api/checkout/charge",{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify(s)}).catch(function(e){return console.log("Error: "+e)});case 18:if(!(o=e.sent).ok){e.next=23;break}this.props.history.push("/Confirmation"),e.next=30;break;case 23:return console.log(o),e.next=26,o.text();case 26:c=e.sent,console.log("textPromise is ".concat(c)),c.includes("Attempted booking overlaps")&&(this.setState({checkBookings:!0}),console.log(this.state.checkBookings)),console.log("error "+o.status);case 30:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;console.log("rewardpoint:"+this.state.rewardPoint);var t;t=this.state.rewardPoint,this.state.discount;return r.a.createElement("div",{class:"row",style:{marginRight:"0px",marginLeft:"0px"}},r.a.createElement("div",{class:"card text-left w-50"},r.a.createElement("h5",{class:"card-header"},"Payment Method"),r.a.createElement("div",{class:"card-body",style:{backgroundColor:"#ffffff"}},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-11"},r.a.createElement("form",{action:"/charge",method:"post",id:"payment-form"},r.a.createElement("div",{class:"form-group"},r.a.createElement("img",{src:"https://images-na.ssl-images-amazon.com/images/I/61cL%2BM-SN%2BL._SL1283_.jpg",width:"405.5",height:"153.5"})," "),r.a.createElement("div",{class:"form-group"},r.a.createElement("span",{style:{fontSize:12,marginLeft:13}},"Card Number"),r.a.createElement("div",null,r.a.createElement(Ue.CardNumberElement,null))),r.a.createElement("div",{class:"form-group row"},r.a.createElement("div",{class:"form-group ",style:{paddingLeft:15,marginTop:8,width:"33%"}},r.a.createElement("span",{style:{fontSize:12,marginLeft:13}},"Expiration Date"),r.a.createElement("div",null,r.a.createElement(Ue.CardExpiryElement,null))),r.a.createElement("div",{class:"form-group ",style:{paddingLeft:30,marginTop:8,width:"33%"}},r.a.createElement("span",{style:{fontSize:12,marginLeft:13}},"Postal Code"),r.a.createElement("div",null,r.a.createElement(Ue.PostalCodeElement,null))),r.a.createElement("div",{class:"form-group",style:{marginTop:8,paddingLeft:30,width:"33%"}},r.a.createElement("span",{style:{fontSize:12,marginLeft:13}},"CVC"),r.a.createElement("div",null,r.a.createElement(Ue.CardCVCElement,null))))))))),r.a.createElement("div",{class:"card text-left w-50 "},r.a.createElement("h5",{class:"card-header"},"Payment Summary"),r.a.createElement("div",{class:"card-body"},r.a.createElement("div",{class:"col"}),r.a.createElement("p",{class:"font-weight-bold",id:"test"}),r.a.createElement("form",null,r.a.createElement("table",{class:"table font-weight-bolder"},r.a.createElement("tbody",{class:"border"},r.a.createElement("tr",null,r.a.createElement("td",null,"Room: "),r.a.createElement(Ve.a,{value:this.props.totalPrice,displayType:"text",prefix:"$",decimalScale:2,fixedDecimalScale:!0,renderText:function(e){return r.a.createElement("td",{align:"right"},e)},defaultValue:this.props.totalPrice})),r.a.createElement("tr",null,r.a.createElement("td",{style:{width:"100%"}},"Tax: "),r.a.createElement(Ve.a,{value:this.state.tax,displayType:"text",prefix:"$",decimalScale:2,fixedDecimalScale:!0,renderText:function(e){return r.a.createElement("td",{align:"right"},e)},defaultValue:this.state.tax})),r.a.createElement("tr",null,r.a.createElement("td",{style:{width:"100%"}},"Discount: "),r.a.createElement(Ve.a,{value:this.state.discount,displayType:"text",prefix:"$",decimalScale:2,fixedDecimalScale:!0,renderText:function(e){return r.a.createElement("td",{align:"right"},e)},defaultValue:0})),r.a.createElement("tr",null,r.a.createElement("td",null,"TOTAL:  "),r.a.createElement(Ve.a,{value:this.state.total,displayType:"text",prefix:"$",decimalScale:2,fixedDecimalScale:!0,renderText:function(e){return r.a.createElement("td",null,e)},defaultValue:1.1})))),r.a.createElement("hr",{class:"dottedLineSC w-100"}),r.a.createElement("div",{class:"row w-100"},r.a.createElement("div",{class:"w-50 col-sm-auto "},r.a.createElement(E.a,{color:"warning",onClick:this.toggle,style:{marginBottom:"1rem",width:"90%"}},"Pay with Reward Points")),r.a.createElement("div",{class:" w-50 col-sm-auto"},r.a.createElement(E.a,{color:"primary",onClick:this.submit,style:{marginBottom:"1rem",width:"90%"}},"Checkout"))),r.a.createElement("div",{class:" w-100 row"},r.a.createElement(He.a,{isOpen:this.state.collapse,style:{width:"100%"}},r.a.createElement("div",{id:"collapse-rewardPoint "},r.a.createElement("div",{class:"form-group col-sm-auto offset-sm-1 row "},r.a.createElement("input",{type:"text",id:"rewardPointInput",class:"form-control w-75",placeholder:"Reward Point Amount",onChange:this.handleDiscountUsedInput.bind(this)}),r.a.createElement(E.a,{color:"warning",onClick:function(){return e.handleDiscountUsed()},style:{width:"25%"}},"Use"),r.a.createElement("p",{class:"small"},r.a.createElement("p",null,"You have ",this.state.rewardPoint," Reward Points ;"),r.a.createElement("p",{class:"font-italic small"}," 1 Reward Point = $0.01 (ie. 500 Reward Points = $5.00)")))))),this.state.checkBookings?r.a.createElement("div",{className:"room-page-verify-checkout"}," There is a booking that already exists within this date. "):null))))}}]),t}(r.a.Component),Qe=Object(g.a)(Object(Ue.injectStripe)(Ge)),Ke=function(e){function t(e){var a;Object(o.a)(this,t);var n=(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).props.hotel,r=a.props.date_in,l=a.props.date_out,s=a.props.city,c=a.props.state,d=a.props.address,u=a.props.country,h=a.props.totalPrice,p=a.props.rooms,g=(new Date(l)-new Date(r))/864e5;return a.state={hotel:n,country:u,state:c,address:d,date_in:r,date_out:l,city:s,totalPrice:h,rooms:p,nights_stayed:g},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{class:"card text-center h-50"},r.a.createElement("h5",{class:"card-header"},"Booking Summary"),r.a.createElement("div",{class:"card-body  ",style:{backgroundColor:"#ffffff"}},r.a.createElement("h4",null,r.a.createElement("div",null,r.a.createElement("p",{class:"font-weight-bold",style:{fontSize:"30px"}},this.props.hotel),r.a.createElement("p",{class:"font-weight-light",style:{fontSize:"20px"}},this.props.address,", ",this.props.city),r.a.createElement("p",{class:"font-weight-light",style:{fontSize:"20px"}}," ",this.props.state,", ",this.props.country," ")),r.a.createElement("div",null,r.a.createElement("p",{class:"font-weight-light text-muted "},"          ",this.state.rooms.map(function(t){if(console.log(t),t.desired_quantity>0)return r.a.createElement("p",null,t.desired_quantity," ",t.bed_type," x ",e.state.nights_stayed," Day = $ ",t.price*t.desired_quantity*e.state.nights_stayed)}))),r.a.createElement("div",null,r.a.createElement("p",{class:"font-weight-bold",style:{fontSize:"20px"}},"Check In: ",this.props.date_in),r.a.createElement("p",{class:"font-weight-bold",style:{fontSize:"20px"}},"Check Out: ",this.props.date_out)))))}}]),t}(r.a.Component),Xe=Object(g.a)(Ke),et=function(e){function t(e){var a;Object(o.a)(this,t);var n=(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).props.hotel,r=a.props.date_in,l=a.props.date_out,s=a.props.city,c=a.props.state,d=a.props.address,u=a.props.country,h=a.props.totalPrice,p=a.props.rooms,g=a.props.oldPrice,v=a.props.rewards_applied;return a.state={hotel:n,country:u,state:c,address:d,date_in:r,date_out:l,city:s,totalPrice:h,rooms:p,oldPrice:g,rewards_applied:v},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{class:"row ",style:{marginRight:"0px",marginLeft:"0px"}},r.a.createElement("div",{class:"card w-50"},r.a.createElement("h5",{class:"card-header text-left"},"Booking Summary"),r.a.createElement("div",{class:"card-body ",style:{backgroundColor:"#ffffff"}},r.a.createElement("h4",null,r.a.createElement("div",null,r.a.createElement("p",{class:"font-weight-bold",style:{fontSize:"30px"}},this.props.hotel),r.a.createElement("p",{class:"font-weight-light",style:{fontSize:"20px"}},this.props.address,", ",this.props.city),r.a.createElement("p",{class:"font-weight-light",style:{fontSize:"20px"}}," ",this.props.state,", ",this.props.country," ")),r.a.createElement("div",null,r.a.createElement("p",{class:"font-weight-light text-muted "},"          ",this.state.rooms.map(function(e){if(console.log(e),e.desired_quantity>0)return r.a.createElement("p",null,e.desired_quantity," ",e.bed_type," ")}))),r.a.createElement("div",null,r.a.createElement("p",{class:"font-weight-bold",style:{fontSize:"20px"}},"Check In: ",this.props.date_in),r.a.createElement("p",{class:"font-weight-bold",style:{fontSize:"20px"}},"Check Out: ",this.props.date_out))))),r.a.createElement("div",{class:"card text-left w-50 "},r.a.createElement("h5",{class:"card-header"},"Previous Payment Summary"),r.a.createElement("div",{class:"card-body",style:{backgroundColor:"#ffffff"}},r.a.createElement("div",{class:"col"}),r.a.createElement("p",{class:"font-weight-bold",id:"test"}),r.a.createElement("table",{class:"table font-weight-bolder"},r.a.createElement("tbody",{class:"border"},r.a.createElement("tr",null,r.a.createElement("td",null,"Prev. Price: "),r.a.createElement(Ve.a,{value:this.state.oldPrice,displayType:"text",prefix:"$",decimalScale:2,fixedDecimalScale:!0,renderText:function(e){return r.a.createElement("td",{align:"right"},e)},defaultValue:0})),r.a.createElement("tr",null,r.a.createElement("td",{style:{width:"100%"}},"Reward Used: "),r.a.createElement(Ve.a,{value:this.state.rewards_applied,displayType:"text",prefix:"",decimalScale:0,fixedDecimalScale:!0,renderText:function(e){return r.a.createElement("td",{align:"right"},e)},defaultValue:0})),r.a.createElement("tr",null,r.a.createElement("td",{style:{width:"100%"}},"New Price: "),r.a.createElement(Ve.a,{value:this.state.totalPrice,displayType:"text",prefix:"$",decimalScale:2,fixedDecimalScale:!0,renderText:function(e){return r.a.createElement("td",{align:"right"},e)},defaultValue:0})),r.a.createElement("tr",null,r.a.createElement("td",null,"Total Difference:  "),r.a.createElement(Ve.a,{value:this.state.totalPrice-this.state.oldPrice,displayType:"text",prefix:"$",decimalScale:2,fixedDecimalScale:!0,renderText:function(e){return r.a.createElement("td",{align:"right"},e)},defaultValue:0})))),r.a.createElement("div",{class:"alert alert-info ",style:{}},r.a.createElement("span",null," We will refund or charge only the difference of the old and new booking prices!")))))}}]),t}(r.a.Component),tt=Object(g.a)(et),at=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).Checkout=function(e){var t=0,n=0;if(a.setState({verifyRooms:!1,verifyGuests:!1}),a.state.rooms.results.map(function(e,a){return t+=e.desired_quantity}),a.state.rooms.results.map(function(e,t){return n+=e.desired_quantity*e.capacity}),0==t&&a.setState({verifyRooms:!0}),n<a.state.guest_number&&a.setState({verifyGuests:!0}),t>0&&n>=a.state.guest_number){console.log(JSON.stringify(a.state.rooms));var r=JSON.stringify(a.state.rooms),l=(a.props.location.search,"&country=".concat(a.state.hotel.results[0].country,"&state=").concat(a.state.hotel.results[0].state,"&address=").concat(a.state.hotel.results[0].address,"&hotelname=").concat(a.state.hotel.results[0].name,"&rooms="),JSON.stringify(a.state.rooms)),s=a.state.hotel_id.toString(),o=a.state.date_in.toString(),c=a.state.date_out.toString(),i=a.totalPrice.toString(),m=a.state.guest_number.toString(),d=a.state.city.toString(),u=a.state.hotel.results[0].country.toString(),h=a.state.hotel.results[0].state.toString(),p=a.state.hotel.results[0].address.toString();a.props.history.push({pathname:"/Checkout",state:{rooms:l,date_in:o,date_out:c,hotel_id:s,totalPrice:i,guest_number:m,city:d,country:u,state:h,address:p}})}},a.handleEachRoomQuantity=function(e){var t=e.target,n=t.value,r=t.name;a.state.rooms.results[r].desired_quantity=n;var l=a.state.rooms;a.setState({rooms:l,verifyRooms:!1,verifyGuests:!1})};var n=new URLSearchParams(a.props.location.search),r=n.get("hotel_id"),l=n.get("date_in"),s=n.get("date_out"),c=n.get("city"),d=n.get("guest_number");return a.state={hotel:{},rooms:{},hotel_id:r,date_in:l,date_out:s,city:c,totalPrice:0,guest_number:d,verifyCheckout:!1,verifyRooms:!1,verifyGuests:!1},a.totalPrice=0,a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=Object(le.a)(re.a.mark(function e(){var t,a,n,r;return re.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="/api/search/hotels/".concat(this.state.hotel_id,"/?date_in=").concat(this.state.date_in,"&date_out=").concat(this.state.date_out),a="/api/search/hotels?city=".concat(this.state.city,"&date_in=").concat(this.state.date_in,"&date_out=").concat(this.state.date_out,"&hotel_id=").concat(this.state.hotel_id),e.next=4,I.a.get(t);case 4:return n=e.sent.data,e.next=7,I.a.get(a);case 7:r=e.sent.data,n.results.map(function(e,t){n.results[t].desired_quantity=0}),this.setState({rooms:n,hotel:r});case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleRoomPrice",value:function(){var e=this;return this.totalPrice=0,this.state.rooms.results.map(function(t,a){return e.totalPrice=e.totalPrice+t.price*t.desired_quantity}),this.totalPrice}},{key:"createAvailableRooms",value:function(e){for(var t=[],a=0;a<=this.state.rooms.results[e.index].quantity;a++)t.push(r.a.createElement("option",{key:a},a));return t}},{key:"render",value:function(){var e=this;if(this.state.hotel.results){var t=this.state.hotel.results[0].images,a=[];t&&(a=t.split(","));var n=r.a.createElement("div",{className:"room-page-container"},r.a.createElement("div",{className:"room-page-rooms-container"},r.a.createElement("div",null,this.state.rooms.results.length>0?r.a.createElement("div",{className:""},r.a.createElement("div",{className:"col-lg-12 custom-row room-page-hotel-container"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"custom-row mb-5"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"block-3 d-md-flex room-page-hotel-description"},r.a.createElement("div",{className:"col-md-4 text"},r.a.createElement("h2",{className:"heading"},this.state.hotel.results[0].name),r.a.createElement("div",{className:"room-page-item-rating"},r.a.createElement("span",{className:"fa fa-star hotel-search-item-rating-checked"}),r.a.createElement("span",{className:"fa fa-star hotel-search-item-rating-checked"}),r.a.createElement("span",{className:"fa fa-star hotel-search-item-rating-checked"}),r.a.createElement("span",{className:"fa fa-star hotel-search-item-rating-checked"}),r.a.createElement("span",{className:"fa fa-star"})),r.a.createElement("ul",{className:"specs"},r.a.createElement("li",null," ",this.state.hotel.results[0].address,", ",this.state.hotel.results[0].city,", ",this.state.hotel.results[0].state,", ",this.state.hotel.results[0].zipcode," "),r.a.createElement("li",null," ",this.state.hotel.results[0].phone_number),r.a.createElement("li",null," ",r.a.createElement("sup",null,this.state.hotel.results[0].description)))),r.a.createElement("div",{className:"col-md-8 room-page-image",style:{backgroundImage:"url(".concat(a[0],")")}})))))),r.a.createElement("hr",null),r.a.createElement("div",{className:"col-lg-12 room-page-rooms custom-row container"},this.state.rooms.results.map(function(t,a){return r.a.createElement("div",{className:"room-page-room-item col-lg-4 mb-5",key:a},r.a.createElement("div",{className:"block-34",style:{cursor:"pointer"}},r.a.createElement("div",{className:"room-page-image"},r.a.createElement("a",{href:"#child4"},r.a.createElement("img",{src:t.images,alt:"Placeholder"}))),r.a.createElement("div",{className:"text"},r.a.createElement("h2",{className:"heading"},t.bed_type," Size Room"),r.a.createElement("div",{className:"price"},r.a.createElement("sup",{className:"room-page-room-price"},"$"),r.a.createElement("span",{className:"room-page-room-price"},t.price.toFixed(2)),r.a.createElement("sub",null,"/per night")),r.a.createElement("ul",{className:"specs"},r.a.createElement("li",null,r.a.createElement("strong",null,"Amenities:")," Closet with hangers, HD flat-screen TV, Telephone"),r.a.createElement("li",null,r.a.createElement("strong",null,"Capacity Per Room:")," ",t.capacity)),r.a.createElement("div",null,r.a.createElement("strong",null,"# Of Rooms "),r.a.createElement("select",{className:"room-page-room-quantity-dropdown",type:"text",name:a,list:"numbers",value:t.THIS_IS_A_PLACEHOLDER,onChange:e.handleEachRoomQuantity},e.createAvailableRooms({index:a}))))))}))):r.a.createElement("div",null,"no result"),r.a.createElement("hr",null),r.a.createElement("div",{className:"room-page-checkout-guest-information custom-row"},r.a.createElement("div",{className:"col-lg-4"},r.a.createElement("strong",{className:"py-3"}," Guest: "),r.a.createElement("p",null,this.state.guest_number)),r.a.createElement("div",{className:"col-lg-4"},r.a.createElement("strong",null," Date In: "),r.a.createElement("p",null,this.state.date_in)),r.a.createElement("div",{className:"col-lg-4"},r.a.createElement("strong",null," Date Out: "),r.a.createElement("p",null,this.state.date_out))),r.a.createElement("div",{className:"room-page-checkout-description"},r.a.createElement(ie.a,{hover:!0,borderless:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Room Type"),r.a.createElement("th",null,"Capacity"),r.a.createElement("th",null,"Price"),r.a.createElement("th",null,"Quantity"),r.a.createElement("th",null,"Total"))),r.a.createElement("tbody",null,this.state.rooms.results.map(function(e,t){return e.desired_quantity>0?r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.bed_type),r.a.createElement("td",null,e.capacity),r.a.createElement("td",null,"$",e.price.toFixed(2)),r.a.createElement("td",null,e.desired_quantity," "),r.a.createElement("td",null,"$ ",(e.desired_quantity*e.price).toFixed(2))):r.a.createElement("tr",{key:t})}),r.a.createElement("tr",{className:"hr-row"},r.a.createElement("td",null,r.a.createElement("hr",null)," "),r.a.createElement("td",null,r.a.createElement("hr",null)," "),r.a.createElement("td",null,r.a.createElement("hr",null)," "),r.a.createElement("td",null,r.a.createElement("hr",null)," "),r.a.createElement("td",null,r.a.createElement("hr",null)," ")),r.a.createElement("tr",null,r.a.createElement("td",null," "),r.a.createElement("td",null," "),r.a.createElement("td",null," "),r.a.createElement("td",null,r.a.createElement("strong",null," Estimated Total Per Night")),r.a.createElement("td",null," $ ",this.handleRoomPrice().toFixed(2)))))),this.state.verifyCheckout?r.a.createElement("div",{className:"room-page-verify-checkout"}," Unable to checkout "):null,this.state.verifyRooms?r.a.createElement("div",{className:"room-page-verify-checkout"}," Please select a room "):null,this.state.verifyGuests?r.a.createElement("div",{className:"room-page-verify-checkout"}," Please select enough rooms to accomodate all guests "):null,r.a.createElement("p",{className:"room-page-submit-button btn btn-primary py-3 px-5 mb-5",style:{cursor:"pointer"},onClick:this.Checkout.bind(this)},"Checkout"))));return r.a.createElement("div",null,n)}return r.a.createElement("div",{className:"hotel-search-container"}," Loading ")}}]),t}(r.a.Component),nt=Object(g.a)(at),rt=a(68),lt=a.n(rt),st=a(91),ot=a.n(st),ct=(a(183),function(e){return I.a.post("/api/recovery",{email:e}).then(function(e){return"S1"===e.data&&(console.log(e.data),localStorage.setItem("checkToken",e.data)),e.data}).catch(function(e){return console.log(e.response.status),e.response.status})}),it=function(e){return I.a.post("/api/checkcode",{access_code:e.access_code,email:e.email}).then(function(e){return"S"===e.data&&localStorage.setItem("1",e.data),e.data}).catch(function(e){return e.response.data})},mt=function(e){return I.a.post("/api/changepass",{email:e.email,password:e.password,confirmpassword:e.repassword}).then(function(e){return"S"===e.data&&localStorage.setItem(e.data),e.data}).catch(function(e){return e.response.data})},dt=a(497),ut={width:"100%",height:"100vh",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center center",backgroundImage:"url(".concat(ot.a,")")},ht=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){return function(t){a.setState(Object(z.a)({},e,t.target.value))}},a.sendcode=function(e){e.preventDefault();var t=a.state.email;""===t?a.setState({showError:!1,msgFromServer:"",showNullError:!0}):ct(t).then(function(e){"S1"===e?a.setState({showError:!1,msgFromServer:"recovery email sent!",showNullError:!1},function(){a.props.history.push({pathname:"/Accesscode",state:t})}):a.setState({showError:!0,msgFromServer:"",showNullError:!1})})},a.state={email:"",showError:"",msgFromServer:"",showNullError:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.msgFromServer,n=e.showNullError,l=e.showError;return r.a.createElement("div",{className:"col-lg-12 recoverage-container col-auto",style:ut},r.a.createElement("div",{className:"recoverage-form-container col-lg-12 dark-tint"},r.a.createElement("br",null),r.a.createElement(Se.a,{style:{marginTop:"9%"}},r.a.createElement(Oe.a,{className:"recoverage-card"},r.a.createElement("img",{className:"recoverage-picture",src:"http://cdn.onlinewebfonts.com/svg/img_228829.png",alt:"lock"}),r.a.createElement(dt.a,{className:"col-auto pl-0 recoverage-center-title"},r.a.createElement("h3",null,"Forgot Password?")),r.a.createElement("div",{className:"recoverage-inner-card"},"Enter your email below and we'll send you an access code:",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(lt.a,{className:"recoverage-textfield",id:"email",label:"Email",type:"email",variant:"outlined",value:t,onChange:this.handleChange("email"),inputProps:{maxLength:99},placeholder:"guest@spartanhotels.com"}),n&&r.a.createElement("div",null,r.a.createElement("p",{className:"text-warning"}," *Please enter in your email.")),l&&r.a.createElement("div",null,r.a.createElement("p",{className:"text-warning"},"*This email address has not been registered!")),"recovery email sent!"===a&&r.a.createElement("div",null,r.a.createElement("p",null,"Access code has sent!")),r.a.createElement("button",{type:"submit",className:"recoverage-button",onClick:this.sendcode},"RESET"))))))}}]),t}(n.Component),pt=Object(g.a)(ht),gt=a(120),vt=a.n(gt),Et=a(122),ft=a.n(Et),yt={width:"100%",height:"100vh",marginTop:"0%",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center center",backgroundImage:"url(".concat(ot.a,")")},bt=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).checkCode=function(e){e.preventDefault();var t={access_code:a.state.fields.code,email:a.props.location.state};console.log("email:",t.email),console.log("code:",t.access_code),it(t).then(function(e){"S"===e?(localStorage.removeItem("checkToken"),window.location.reload()):(alert("Code is invalid or expired. Please go back to get a new code!"),window.location.assign("/Recoverage"))})},a.reset=function(e){if(e.preventDefault(),a.validate()){var t={email:a.props.location.state,password:a.state.fields.password,repassword:a.state.fields.repassword};""===t.code||""===t.password||""===t.repassword?alert("The field code, password, and repassword can't be empty!"):t.repassword!==t.password?alert("The two passwords do not match!"):mt(t).then(function(e){alert("Your password has been reset! Please login again."),window.location.assign("/")})}},console.log("this.props",a.props.location.state),a.state={fields:{code:"",password:"",repassword:""},error:{},password_error:[],repassword_error:[],passwordCheck:[{req:"\u2265 8 characters",valid:!1},{req:"At least 1 uppercase letter",valid:!1},{req:"At least 1 lowercase letter",valid:!1},{req:"At least 1 special character !@#$%^&*",valid:!1}]},a.passwordChecker=a.passwordChecker.bind(Object(p.a)(Object(p.a)(a))),a.handleChange=a.handleChange.bind(Object(p.a)(Object(p.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){var t=this.state.fields;t[e.target.name]=e.target.value,this.setState({fields:t}),this.passwordChecker()}},{key:"passwordChecker",value:function(){var e=this.state.fields.password,t=this.state.passwordCheck;t[0].valid=e.length>=8,/(?=.*[A-Z])/.test(e)?t[1].valid=!0:t[1].valid=!1,/(?=.*[a-z])/.test(e)?t[2].valid=!0:t[2].valid=!1,/(?=.*[!@#$%^&*])/.test(e)?t[3].valid=!0:t[3].valid=!1,this.setState({passwordCheck:t})}},{key:"validate",value:function(){var e=this.state.fields,t={},a=!0;(""===e.password&&(a=!1,t.password="*Please enter a password"),""!==e.password)&&(new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&*]).{8,}$").test(e.password)?(""===e.repassword&&(a=!1,t.repassword="*Please re-enter password"),""!==e.repassword&&(e.repassword.match(e.password)||(a=!1,t.repassword="*Passwords must match"))):(a=!1,t.password="*This password does not meet the requirements"));return this.setState({error:t,password_error:[]}),a}},{key:"render",value:function(){var e=r.a.createElement("div",null),t=this.state.passwordCheck.map(function(e){return r.a.createElement("div",{key:e.req,className:e.valid?"valid-req":"invalid-req"},e.req)});return r.a.createElement("div",{className:"col-lg-12 recoverage-container col-auto",style:yt},r.a.createElement("div",{className:"recoverage-form-container col-lg-12 dark-tint"},r.a.createElement("br",null),r.a.createElement(Se.a,{style:{marginTop:"7.5%"}},r.a.createElement(Oe.a,{className:"recoverage-card"},r.a.createElement("img",{className:"recoverage-picture",src:"http://cdn.onlinewebfonts.com/svg/img_228829.png",alt:"lock"}),r.a.createElement(dt.a,{className:"col-auto pl-0 recoverage-center-title"},r.a.createElement("h3",null," Forgot Password? ")),r.a.createElement("div",{className:"recoverage-inner-card"},localStorage.checkToken?r.a.createElement("div",null,r.a.createElement("div",null,"An access code has been to sent to your email."),r.a.createElement("p",null," Check your email and enter the code below: ")):r.a.createElement("div",null,r.a.createElement("p",null," Enter in a new password below: ")),r.a.createElement(vt.a,{component:"nav"},localStorage.checkToken?r.a.createElement("div",null,r.a.createElement(lt.a,{className:"recoverage-textfield",id:"code",label:"Access Code",name:"code",variant:"outlined",value:this.state.fields.code,onChange:this.handleChange,placeholder:"1234567"}),r.a.createElement("button",{type:"submit",className:"recoverage-button",onClick:this.checkCode},"SUBMIT")):e,localStorage.checkToken?e:r.a.createElement("div",null,r.a.createElement(lt.a,{className:"recoverage-textfieldPass",id:"PopoverFocus",type:"password",variant:"outlined",label:"Password",name:"password",value:this.state.fields.password,onChange:this.handleChange,placeholder:"**********",pattern:"^(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&*]).{8,}$",required:!0}),r.a.createElement("div",{className:"text-warning"}," ",this.state.error.password," "),r.a.createElement(x.a,{trigger:"focus",placement:"right",target:"PopoverFocus"},r.a.createElement(P.a,null,"Password Requirements"),r.a.createElement(C.a,null,t)),r.a.createElement(ft.a,null),r.a.createElement(lt.a,{className:"recoverage-textfieldPass",id:"reenterpass",label:"Re-enter Password",variant:"outlined",name:"repassword",type:"password",value:this.state.fields.repassword,onChange:this.handleChange,placeholder:"**********"}),r.a.createElement("div",{className:"text-warning"}," ",this.state.error.repassword," "),r.a.createElement(ft.a,null),r.a.createElement("button",{type:"submit",className:"recoverage-button",onClick:this.reset},"SAVE"))))))))}}]),t}(n.Component),wt=Object(g.a)(bt),_t=a(224),kt={height:"100vh",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center center",backgroundImage:"url(".concat(a.n(_t).a,")")},Nt=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"Home",value:function(e){e.preventDefault(),this.props.history.push("/")}},{key:"render",value:function(){var e=r.a.createElement("div",{className:"home-form-container col-lg-12"},r.a.createElement("div",{className:"confirmation-container col-lg-12",onSubmit:this.search},r.a.createElement("div",{className:"col-lg-12 custom-row"},r.a.createElement("div",{className:"col-lg-3"}," "),r.a.createElement("div",{className:"col-lg-6 top-header"},r.a.createElement("div",{className:"confirmation-message text-center"},r.a.createElement("div",{className:"confirmation-message-header"},r.a.createElement("i",{className:"confirmation-message-icon far fa-check-circle"}),r.a.createElement("div",null," Great! Your booking is set. "),r.a.createElement("div",{className:"confirmation-message-header-sub"}," A confirmation has been sent to your email.")),r.a.createElement("div",{className:"confirmation-message-footer"},r.a.createElement("div",null,"Thank you for booking with Spartan Hotels."),r.a.createElement("div",null,"And we hope you enjoy your stay!"),r.a.createElement("br",null),r.a.createElement("p",{className:"confirmation-submit-button btn btn-primary py-3 px-5 mb-5",style:{cursor:"pointer"},onClick:this.Home.bind(this)},"Book Again")))),r.a.createElement("div",{className:"col-lg-3"}," "),r.a.createElement("div",{className:"",style:{width:0,height:0},id:"map"}))));return r.a.createElement("div",{className:"home-container",style:kt},e)}}]),t}(r.a.Component),St=Object(g.a)(Nt),Ot=a(226),xt=function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[r,a,n].join("-")},Pt=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){if(this.props.hotelData){var e=this.props.hotelData.images,t=[];return e&&(t=e.split(",")),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:""},r.a.createElement("article",{className:""},r.a.createElement("div",{className:"blog-img",style:{cursor:"pointer",backgroundImage:"url(".concat(t[0],")")}}),r.a.createElement("div",{className:"desc"},r.a.createElement("h2",null,this.props.hotelData.name),r.a.createElement("div",{className:"meta"},r.a.createElement("p",null,r.a.createElement("span",null,"".concat(this.props.hotelData.address,", ").concat(this.props.hotelData.city,", ").concat(this.props.hotelData.state,", ").concat(this.props.hotelData.zipcode," ")),r.a.createElement("span",{style:{color:"#4586FF"}},this.props.hotelData.phone_number))),r.a.createElement(He.a,{isOpen:this.props.collapseFlag},r.a.createElement("p",null,this.props.hotelData.description))),r.a.createElement(E.a,{outline:!0,color:"primary",onClick:this.props.onCollapse(),style:{marginTop:"1rem"}},"Read More"))))))}return r.a.createElement("div",{className:"hotel-search-container"}," Loading ")}}]),t}(r.a.Component),Ct=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).roomSearch=function(e){var t="?date_in=".concat(a.state.date_in.format("YYYY-MM-DD"),"&date_out=").concat(a.state.date_out.format("YYYY-MM-DD"),"\n\t\t\t&hotel_id=").concat(a.state.hotel_id,"\n\t\t\t&transaction_id=").concat(a.state.transaction_id);a.props.history.push({pathname:"/ModifyRoomPage",search:"".concat(t)})},a.toggle=function(){a.setState(function(e){return{collapse:!e.collapse}})},a.Checkout=function(e){e.preventDefault();var t=[],n=!0,r=!1,l=void 0;try{for(var s,o=a.state.roomsMap[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){var c=s.value;c[1].taken_quantity&&c[1].taken_quantity>0&&t.push({bed_type:c[0].bed_type,price:c[0].price,quantity:c[1].taken_quantity})}}catch(f){r=!0,l=f}finally{try{n||null==o.return||o.return()}finally{if(r)throw l}}var i=a.state.oldTotalPrice.toString(),m=a.state.oldAmountPaid.toString(),d=a.state.transaction_id.toString(),u=a.state.totalPriceWithTax.toString(),h=a.state.cancellationFee.toString(),p=a.state.date_in.format("YYYY-MM-DD").toString(),g=a.state.date_out.format("YYYY-MM-DD").toString(),v=a.state.hotel_id.toString(),E=a.state.roomsFromTransaction;a.props.history.push({pathname:"/Checkout",state:{totalPriceWithTax:u,cancellationFee:h,date_in:p,date_out:g,rooms:JSON.stringify(t),hotel_id:v,transaction_id:d,oldTotalPrice:i,oldAmountPaid:m,oldRooms:JSON.stringify(E)}})},a.handleEachRoomQuantity=function(e){return function(t){t.preventDefault();var n=t.target.value,r=a.state.roomsMap,l=r.get(e[0]);l.taken_quantity=n,r.set(e[0],l);var s=0,o=!0,c=!1,i=void 0;try{for(var m,d=a.state.roomsMap[Symbol.iterator]();!(o=(m=d.next()).done);o=!0){var u=m.value;u[0]===e[0]?s+=u[0].price*parseFloat(n).toFixed(2):u[1].taken_quantity?s+=u[0].price*u[1].taken_quantity:s=s}}catch(v){c=!0,i=v}finally{try{o||null==d.return||d.return()}finally{if(c)throw i}}var h=(.1*(s=parseFloat(s).toFixed(2))).toFixed(2),p=(1.1*s).toFixed(2),g=(.2*s).toFixed(2);a.setState({roomsMap:r,totalPriceWithoutTax:s,totalPriceWithTax:p,cancellationFee:g,salesTax:h})}};var n=new URLSearchParams(a.props.location.search),r=n.get("hotel_id"),l=de()(n.get("date_in"),"YYYY-MM-DD"),s=de()(n.get("date_out"),"YYYY-MM-DD"),c=s.diff(l,"days"),d=n.get("transaction_id");return a.state={hotel:{},rooms:{},hotel_id:r,date_in:l,date_out:s,transaction_id:d,reservation_days:c,collapse:!1,availableRooms:[],totalPriceWithoutTax:0,totalPriceWithTax:0,cancellationFee:0,roomsMap:null},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this.fetchSearchResult()}},{key:"fetchSearchResult",value:function(){var e=Object(le.a)(re.a.mark(function e(){var t,a,n,r,l,s,o,c,i,m,d,u,h,p,g,v,E,f,y,b,w,_,k,N,S,O,x,P,C;return re.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new URLSearchParams(this.props.location.search),a=parseInt(t.get("transaction_id")),n="/api/search/hotels/".concat(this.state.hotel_id,"/?date_in=1111-01-01&date_out=1111-01-02"),r="/api/search/hotels/".concat(this.state.hotel_id,"/?date_in=").concat(this.state.date_in.format("YYYY-MM-DD"),"&date_out=").concat(this.state.date_out.format("YYYY-MM-DD")),l="/api/search/hotels?date_in=1111-01-01&date_out=1111-01-02&hotel_id=".concat(this.state.hotel_id),s="/api/search/hotels?date_in=".concat(this.state.date_in.format("YYYY-MM-DD"),"&date_out=").concat(this.state.date_out.format("YYYY-MM-DD"),"&hotel_id=").concat(this.state.hotel_id),o={transaction_id:a},e.next=9,I.a.get(n);case 9:return c=e.sent.data,e.next=12,I.a.get(r);case 12:return i=e.sent.data,e.next=15,I.a.get(l);case 15:return m=e.sent.data,e.next=18,I.a.get(s);case 18:return d=e.sent.data,e.next=21,j=o,I.a.get("/api/transaction/roominfo",{params:j}).then(function(e){if(200===e.status)return e});case 21:for(u=e.sent.data,h=xt(u[0].date_in),p=xt(u[0].date_out),g=parseFloat(u[0].total_price).toFixed(2),v=parseFloat(u[0].amount_paid).toFixed(2),E=Object(Ot.a)(this.state.availableRooms),f=0,y=new Map,i.results&&i.results.length>0&&i.results.forEach(function(e){var t={bed_type:e.bed_type,price:e.price},a={available_quantity:e.quantity,image:e.images,capacity:e.capacity,taken_quantity:0};y.set(t,a)}),u&&u.length>0&&h===this.state.date_in.format("YYYY-MM-DD")&&p===this.state.date_out.format("YYYY-MM-DD")&&u.forEach(function(e){var t={bed_type:e.bed_type,price:e.room_price},a={taken_quantity:e.quantity,image:e.image,capacity:e.capacity};if(y.get(t)){var n=y.get(t);n.taken_quantity=e.quantity,y.delete(t),y.set(t,n)}else y.set(t,a);f+=e.room_price*e.quantity*1}),b=!0,w=!1,_=void 0,e.prev=34,k=y[Symbol.iterator]();!(b=(N=k.next()).done);b=!0)S=N.value,O=S[1],S[1].taken_quantity?S[1].available_quantity&&S[1].available_quantity>S[1].taken_quantity?(O.option_quantity=S[1].available_quantity,y.set(S[0],O)):(O.option_quantity=S[1].taken_quantity,y.set(S[0],O)):(O.option_quantity=S[1].available_quantity,y.set(S[0],O));e.next=42;break;case 38:e.prev=38,e.t0=e.catch(34),w=!0,_=e.t0;case 42:e.prev=42,e.prev=43,b||null==k.return||k.return();case 45:if(e.prev=45,!w){e.next=48;break}throw _;case 48:return e.finish(45);case 49:return e.finish(42);case 50:f=(1*f*this.state.reservation_days).toFixed(2),x=(.1*f).toFixed(2),P=(1.1*f).toFixed(2),C=(.2*f).toFixed(2),this.setState({rooms:c,hotel:m,realrooms:i,realhotel:d,roomsFromTransaction:u,transaction_dateIn:de()(h,"YYYY-MM-DD"),transaction_dateOut:de()(p,"YYYY-MM-DD"),oldTotalPrice:g,availableRooms:E,totalPriceWithoutTax:f,totalPriceWithTax:P,cancellationFee:C,salesTax:x,transaction_id:a,oldAmountPaid:v,roomsMap:y});case 55:case"end":return e.stop()}var j},e,this,[[34,38,42,50],[43,,45,49]])}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e){e.location.search!==this.props.location.search&&this.fetchSearchResult()}},{key:"createAvailableRooms",value:function(e){var t=[];this.state.transaction_date_in===this.state.date_in.format("YYYY-MM-DD")&&(this.state.transaction_date_out,this.state.date_out.format("YYYY-MM-DD"));for(var a=0;a<=e;a++)t.push(r.a.createElement("option",{key:a},a));return t}},{key:"createRoomCards",value:function(){var e=[],t=!0,a=!1,n=void 0;try{for(var l,s=this.state.roomsMap[Symbol.iterator]();!(t=(l=s.next()).done);t=!0){var o=l.value;e.push(r.a.createElement("div",{className:"col-lg-4 mb-5",key:o[1].image},r.a.createElement("div",{className:o[1].taken_quantity&&o[1].taken_quantity>0?"room-card-active block-44":"room-card-inactive block-44"},r.a.createElement("div",{className:"room-page-image"},r.a.createElement("img",{src:o[1].image,alt:o[1].image})),r.a.createElement("div",{className:"text"},r.a.createElement("h2",null,o[0].bed_type),r.a.createElement("div",{className:"price"},r.a.createElement("sup",{className:"room-page-room-price"},"$"),r.a.createElement("span",{className:"room-page-room-price"},o[0].price.toFixed(2)),r.a.createElement("sub",null,"/per night")),r.a.createElement("ul",{className:"specs"},r.a.createElement("li",null,r.a.createElement("strong",null,"Ammenities:")," Closet with hangers, HD flat-screen TV, Telephone"),r.a.createElement("li",null,r.a.createElement("strong",null,"Capacity Per Room:")," ",o[1].capacity)),r.a.createElement("div",null,r.a.createElement("strong",null,"# Of Rooms "),r.a.createElement("select",{className:"room-page-room-quantity-dropdown",name:JSON.stringify(o[0]),value:o[1].taken_quantity,onChange:this.handleEachRoomQuantity(o)},this.createAvailableRooms(o[1].option_quantity)))))))}}catch(c){a=!0,n=c}finally{try{t||null==s.return||s.return()}finally{if(a)throw n}}return e}},{key:"createSummary",value:function(){var e=[],t=!0,a=!1,n=void 0;try{for(var l,s=this.state.roomsMap[Symbol.iterator]();!(t=(l=s.next()).done);t=!0){var o=l.value;o[1].taken_quantity&&o[1].taken_quantity>0?e.push(r.a.createElement("tr",{key:o[1].image},r.a.createElement("td",null,o[0].bed_type),r.a.createElement("td",null,o[1].capacity),r.a.createElement("td",null,"$",o[0].price.toFixed(2)),r.a.createElement("td",null,o[1].taken_quantity," "),r.a.createElement("td",null,"$ ",o[1].taken_quantity*o[0].price.toFixed(2)))):e.push(r.a.createElement("tr",{key:o[1].image}))}}catch(c){a=!0,n=c}finally{try{t||null==s.return||s.return()}finally{if(a)throw n}}return e}},{key:"render",value:function(){var e=this;if(!this.state.hotel.results)return r.a.createElement("div",{className:"hotel-search-container"}," Loading ");var t=r.a.createElement("div",{className:"modify-room-page-checkout-description"},r.a.createElement(ie.a,{borderless:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Room Type"),r.a.createElement("th",null,"Capacity"),r.a.createElement("th",null,"Price"),r.a.createElement("th",null,"Quantity"),r.a.createElement("th",null,"Total"))),r.a.createElement("tbody",null,this.createSummary(),r.a.createElement("tr",{className:"hr-row"},r.a.createElement("td",null,r.a.createElement("hr",null)," "),r.a.createElement("td",null,r.a.createElement("hr",null)," "),r.a.createElement("td",null,r.a.createElement("hr",null)," "),r.a.createElement("td",null,r.a.createElement("hr",null)," "),r.a.createElement("td",null,r.a.createElement("hr",null)," ")),r.a.createElement("tr",null,r.a.createElement("td",null," "),r.a.createElement("td",null," "),r.a.createElement("td",null," "),r.a.createElement("td",null,r.a.createElement("span",null," Total Room Price "),r.a.createElement("span",{style:{color:"#38af7b"}},r.a.createElement("strong",null,"(",this.state.reservation_days," ",1===this.state.reservation_days?"Night":"Nights",")"))),r.a.createElement("td",null," $ ",this.state.totalPriceWithoutTax)),r.a.createElement("tr",null,r.a.createElement("td",null," "),r.a.createElement("td",null," "),r.a.createElement("td",null," "),r.a.createElement("td",null," Sales Tax "),r.a.createElement("td",null," $ ",(this.state.totalPriceWithTax-this.state.totalPriceWithoutTax).toFixed(2))),r.a.createElement("tr",null,r.a.createElement("td",null," "),r.a.createElement("td",null," "),r.a.createElement("td",null," "),r.a.createElement("td",{style:{color:"#3b73d3"}},r.a.createElement("strong",null," Estimated Total ")),r.a.createElement("td",null,r.a.createElement("strong",null,"$ ",this.state.totalPriceWithTax," "))),r.a.createElement("tr",null,r.a.createElement("td",null," "),r.a.createElement("td",null," "),r.a.createElement("td",null," "),r.a.createElement("td",{style:{color:"#f977a1"}}," Estimated Cancellation Fee "),r.a.createElement("td",null," $ ",this.state.cancellationFee)))),r.a.createElement(E.a,{disabled:this.state.totalPriceWithTax===this.state.oldTotalPrice||0===parseInt(this.state.totalPriceWithTax),className:"home-submit-button btn btn-primary py-3 px-4",onClick:this.Checkout},"Modify Checkout")),a=r.a.createElement("div",{className:"room-page-container"},r.a.createElement("div",{className:"room-page-rooms-container"},r.a.createElement("div",null,this.state.rooms.results.length>0?r.a.createElement("div",null,r.a.createElement("hr",null),r.a.createElement("div",{className:"col-lg-12 room-page-rooms custom-row container"},this.createRoomCards())):r.a.createElement("div",null,"no result"),r.a.createElement("hr",null))));return r.a.createElement("div",null,r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("div",{className:"block-32"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 mb-3 mb-lg-0 col-lg-12"},r.a.createElement("label",{className:"input-labels"},"Check In \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0      Check Out"),r.a.createElement("div",{className:"field-icon-wrap check-wrap"},r.a.createElement(H.DateRangePicker,{startDate:this.state.date_in,startDateId:"modify_start_date",endDate:this.state.date_out,endDateId:"modify_end_date",onDatesChange:function(t){var a=t.startDate,n=t.endDate;return e.setState(function(e){return Object(v.a)({},e,{date_in:a,date_out:n})})},focusedInput:this.state.focusedInput,onFocusChange:function(t){return e.setState({focusedInput:t})}})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 mb-3 mb-lg-0 col-lg-12"},r.a.createElement("label",{className:"input-labels",style:{color:"darkgrey"}},"\xa0\xa0",this.state.transaction_dateIn.format("YYYY-MM-DD")," \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0      ",this.state.transaction_dateOut.format("YYYY-MM-DD")))))),r.a.createElement(E.a,{onClick:this.roomSearch},"Search"),r.a.createElement(Pt,{hotelData:this.state.hotel.results[0],collapseFlag:this.state.collapse,onCollapse:function(){return e.toggle}}),a,t)}}]),t}(r.a.Component),jt=Object(g.a)(Ct),Dt=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={id:"",email:""},a.handleChange=function(e){return function(t){a.setState(Object(z.a)({},e,t.target.value))}},a.state={complete:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props;e.match,e.location,e.history;return r.a.createElement("div",{class:"card text-left "},r.a.createElement("h5",{class:"card-header"},"Payment Method"),r.a.createElement("div",{class:"card-body"},r.a.createElement("div",{class:"row"},r.a.createElement("h1",null,"Purchse Complete!"))))}}]),t}(n.Component),It=Object(g.a)(Dt),Rt=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(u.a,null,r.a.createElement("div",{className:"App"},r.a.createElement($,null),r.a.createElement(h.a,{exact:!0,path:"/",component:ae}),r.a.createElement(h.a,{exact:!0,path:"/UserProfile",component:De}),r.a.createElement(h.a,{exact:!0,path:"/Reservations",component:ze}),r.a.createElement(h.a,{path:"/HotelSearchDemo",component:fe}),r.a.createElement(h.a,{path:"/HotelSearch",component:Ee}),r.a.createElement(h.a,{path:"/Checkout",component:Ze}),r.a.createElement(h.a,{path:"/RoomPage",component:nt}),r.a.createElement(h.a,{exact:!0,path:"/Recoverage",component:pt}),r.a.createElement(h.a,{exact:!0,path:"/Accesscode",component:wt}),r.a.createElement(h.a,{exact:!0,path:"/RewardHistory",component:Te}),r.a.createElement(h.a,{exact:!0,path:"/Confirmation",component:St}),r.a.createElement(h.a,{path:"/ModifyRoomPage",component:jt}),r.a.createElement(h.a,{exact:!0,path:"/CheckoutConfirm",component:It})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(Rt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},90:function(e,t,a){e.exports=a.p+"static/media/homeImage7.066bdae8.jpg"},91:function(e,t,a){e.exports=a.p+"static/media/homeImage7.066bdae8.jpg"}},[[228,1,2]]]);
//# sourceMappingURL=main.ac37ec6b.chunk.js.map